/*
   Flowplayer
   @version 2.1.8
   @built   Mon, 07 Oct 2019 16:21:43 GMT
   @commit  2c6a33272d4d90ac92864a3a7b2f1b6440964b0b
   @license Flowplayer commercial license - https://flowplayer.com/commercial-license
*/
/* eslint-disable */
!function (e, t) { "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.flowplayer = t() }(this, function () {
	"use strict"; function e() { } function t(e, t) { return function () { try { return e.apply(t, arguments) } catch (e) { return null } } } function n(e, t) { for (var n in t) e[n] = t[n]; return e } function r() { var e = en.call(arguments), t = e.shift(); return e.reduce(n, t) } function i(e) { return Array.isArray(e) ? e.slice(0) : e.split(".") } function o(e, t, n) { for (t = i(t); t.length;) { if (void 0 === e || null === e) return n; e = e[t.shift()] } return void 0 === e || null === e ? n : e } function a(e, t, n) { t = i(t); var r = t.pop(), a = o(e, t); return a && (a[r] = n), e } function s(e, t, n) { var r = new XMLHttpRequest; r.open("GET", e, !0), r.onreadystatechange = function () { var e = r.status; e >= 400 && n && n(e), 200 == e && 4 == r.readyState && t(r.responseText) }, r.send() } function u(e) { return e = parseInt(e, 10), e >= 10 ? e : "0" + e } function c(e) { if (isNaN(e) || e >= Number.MAX_SAFE_INTEGER) return ""; var t = e < 0 ? "-" : ""; e = Math.abs(e); var n = Math.floor(e / 3600), r = Math.floor(e / 60); return e -= 60 * r, n >= 1 ? (r -= 60 * n, t + n + ":" + u(r) + ":" + u(e)) : t + u(r) + ":" + u(e) } function l(e) { return en.call(e) } function f(e) { var t = { val: e }; return function (e) { return void 0 !== e && (t.val = e), t.val } } function d(e) { return "string" != typeof e ? e : isNaN(e) ? "false" != e && ("true" == e || e) : Number(e) } function p(e) { var t = document.createEvent("Event"); return t.initEvent(e, !1, !0), t } function v(e) { return e.emit = function (t, r, i) { i = i || {}; var o = p(t); return r && n(o, { data: r || {} }), e.dispatchEvent(o), !1 === i.return_self ? o : e }, e.on = function (t, n) { return "string" == typeof t && (t = t.split(" ")), t.forEach(function (t) { e.addEventListener(t, n) }), e }, e.off = function (t, n) { return e.removeEventListener(t, n), e }, e.one = e.once = function (t, n) { function r(i) { e.off(t, r), n(i) } return e.on(t, r) }, e } function m(e, t, n) { var r = _(document.createElement(e)); if (on(t) && (n = t, t = !1), on(n) || (n = [n]), r.append(n.filter(function (e) { return e })), "object" != typeof t) return r; for (var i in t) i in r ? r[i] = t[i] : r.setAttribute(i, t[i]); return r } function h(e) { return e && e[ln] } function g(e) { var t = e.tagName; e[ln] = 1, e.find = function (t) { var n = e.querySelector(t); return n ? _(n) : n }, e.html = function (t) { return e.innerHTML = t, e }, e.empty = function () { return e.innerHTML = nn, e }, e.offset = function () { var t = { top: 0, left: 0 }, n = e; do { t.left += n.offsetLeft || 0, t.top += n.offsetTop || 0 } while (n = n.offsetParent); return t }, e.innerWidth = function () { var t = getComputedStyle(e); return e.clientWidth - parseFloat(t.paddingLeft) - parseFloat(t.paddingRight) }; var n = e.insert = function (t, n) { return on(n) ? n.map(function (n) { return e.insert(t, n) })[0] : (n = "string" == typeof n ? e.insertAdjacentHTML(t, n) : e.insertAdjacentElement ? e.insertAdjacentElement(t, n) : e.appendChild(n), _(n)) }; return e.append = n.bind(e, "beforeend"), e.prepend = n.bind(e, "afterbegin"), e.css = function (t, n) { if ("object" == typeof t) { for (var r in t) e.css(r, t[r]); return e } return void 0 === n ? getComputedStyle(e)[t] : (1 * n && (n += "px"), e.style[t] = n, e) }, e.show = function () { return e.css({ display: ~un.indexOf(t) ? "inline" : "block" }) }, e.hide = function () { return e.css({ display: "none" }) }, e.remove = function () { var t = e.parentNode; t && t.removeChild(e) }, e.attr = function (t, n) { return void 0 == n ? e.getAttribute(t) : (e.setAttribute(t, n), e) }, e.txt = function (t) { return e.textContent = t, e }, e.fp = function (t) { return e.addClass("fp-" + t) }, e.addClass = function (t) { return t.split(rn).forEach(function (t) { e.hasClass(t) || (e.className += (e.className ? rn : nn) + t) }), e }, e.removeClass = function (t) { t = t.split(rn); var n = e.className.split(rn); return e.className = n.filter(function (e) { return !~t.indexOf(e) }).join(" "), e }, e.toggleClass = function (t, n) { return void 0 === n && (n = !e.hasClass(t)), n ? e.addClass(t) : e.removeClass(t) }, e.findAll = function (t) { return l(e.querySelectorAll(t)) }, e.hasClass = function (t) { return ~e.className.split(rn).indexOf(t) }, e } function _(e) { return void 0 === e ? e : h(e) ? e : g(v(e)) } function y(e, t) { if ("string" == typeof e && "<" == e[0]) return m(e.slice(1, -1), t); if ("string" != typeof e) return _(e); var n = t instanceof HTMLElement && t.querySelector(".fp-" + e) || document.querySelector(e); return n ? _(n) : void 0 } function E() { return fn.filter(function (e) { return !e.paused }) } function b(e, t) { try { var n = t.exec(e)[1]; return parseFloat(n, 10) } catch (e) { return console.error(e), 0 } } function w() { var e = "undefined" != typeof document && "undefined" != typeof window, t = e ? navigator.userAgent : "", n = /iP(hone|od)/i.test(t) && !/iPad/.test(t) && !/IEMobile/i.test(t), r = /Android/.test(t) && !/Firefox/.test(t), i = /IEMobile/.test(t), o = i ? b(t, /Windows Phone (\d+\.\d+)/) : 0, a = i ? b(t, /IEMobile\/(\d+\.\d+)/) : 0, s = function () { if (!e) return !1; if (document.documentMode) return document.documentMode; for (var t = 9; t > 3; t--) { var n = document.createElement("div"); if (n.innerHTML = "\x3c!--[if IE " + t + "]><span></span><![endif]--\x3e", n.getElementsByTagName("span").length) return t } return !1 }(); return { controls: !n && (!i || o >= 8.1 && a >= 11), video: function (t) { return e && document.createElement("video").canPlayType(t) }, lang: e && (window.navigator.userLanguage || window.navigator.language), android: r, iphone: n, ie: s, ios: e && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream } } function S(e, t) { var n = t.clientWidth; t.toggleClass(vn.SMALL, n < 600).toggleClass(vn.TINY, n < 400) } function A(e, t, n) { var r = !0; t.addClass("flowplayer"), S(n, t), n.on([pn.LOAD_START, pn.RESIZE], function () { S(n, t) }), n.on(pn.STATE, function (e) { Object.keys(n.playerState).forEach(function (n) { t.toggleClass(n, e.data[n]) }) }), n.on(pn.TIME_UPDATE, function () { n.setState(vn.WAITING, !1) }), n.on(pn.CONFIG, function () { var r = n.paused && (!e.autoplay || t.hasClass(vn.NO_AUTOPLAY)) && 0 == n.currentTime;[vn.LOADING, vn.STARTING].forEach(function (e) { n.setState(e, r) }) }), n.on(pn.ENDED, function (t) { setTimeout(function () { if (!t.defaultPrevented) { if (e.rewind && !n.loop) return e.autoplay && (e.autoplay = !1, n.setState(vn.AUTOPLAY, !1), n.setState(vn.SEAMLESS, !1)), n.setState(vn.SEEKING, !0), n.one(pn.SEEKED, function () { n.setState(vn.SEEKING, !1), n.pause(), n.setState(vn.STARTING, !0) }), n.currentTime = 0, e.poster && n.hide(); n.one(pn.TIME_UPDATE, function () { n.setState(vn.ENDED, !1) }), n.transitionState(vn.ENDED, vn.PLAYING, e.loop || e.rewind ? 0 : 300) } }, 0) }), n.on([pn.SEEKING, pn.SEEKED], function (e) { n.setState(vn.SEEKING, e.type == pn.SEEKING), n.setState(vn.PAUSED, n.paused), n.setState(vn.PLAYING, !n.paused) }), n.on(pn.ENDED, function () { r = !0 }), n.on(w().ios ? pn.METADATA : pn.DATA, function (t) { var r = "src" != t.type || !("none" == e.preload); n.setState(vn.LOADED, r), n.setState(vn.LOADING, !r) }), n.on([pn.WAITING, pn.CAN_PLAY, pn.LOAD_START], function (t) { if (!n.hasState(vn.SEEKING) && (t.type != pn.CAN_PLAY || e.autoplay || n.setState(vn.WAITING, !1), t.type != pn.LOAD_START || "none" != e.preload || e.autoplay)) { if (t.type == pn.LOAD_START && e.autoplay) return n.one(pn.PLAYING, function () { n.setState(vn.WAITING, !1) }); t.type == pn.WAITING && [vn.PLAYING, vn.PAUSED].forEach(n.setState), n.setState(vn.ENDED, !1); var r = [pn.WAITING]; n.setState(vn.WAITING, r.indexOf(t.type) > -1) } }), n.on([pn.PLAYING, pn.PAUSE], function (t) { var i = t.type == pn.PLAYING, o = n.currentTime == n.duration, a = i && r && e.autoplay, s = a || n.hasState(vn.SEAMLESS) || n.hasState(vn.WAITING); if (i && (n.started = !0, n.show()), !e.seamless && r && n.setState(vn.SEAMLESS, !1), i && (r = !1), n.setState(vn.WAITING, !1).setState(vn.STARTING, !1), !o && !n.hasState(vn.SEEKING)) { r && n.setState(vn.STARTING, !1); var u = i ? vn.PLAYING : vn.PAUSED, c = i ? vn.PAUSED : vn.PLAYING; n.transitionState(u, c, s ? 0 : 300), i && (n.show(), n.setState(vn.NO_AUTOPLAY, !1)) } }) } function N(e) { if ("number" == typeof e && !isNaN(e)) return Number(e); if ("string" == typeof e) { var t = e.split(":"); return Number(t[1]) / Number(t[0]) } return e } function k(e, t, n) { var r = { class: "fp-ratio" }, i = y.div(r); i.set = function (e) { e = N(e || mn), i.css("padding-top", isNaN(e) ? e : 100 * e + "%") }, t.reaper.put("aspect_ratio", i), t.append(i), n.on(pn.METADATA, function () { i.set(e.ratio || n.videoHeight && n.videoWidth && n.videoHeight / n.videoWidth) }), n.on(pn.CONFIG, function (e) { i.set(o(e, "data.ratio", n.videoHeight && n.videoWidth && n.videoHeight / n.videoWidth)) }) } function T(e) { var t = e.getBoundingClientRect(), n = window.innerHeight, r = t.height, i = t.bottom, o = r / 5; return t.top <= o && t.top + r > n - o || i - r + o >= 0 && i < n + o } function O(e) { var t = T(e.root); return e.in_viewport === t ? e : (e.in_viewport = t, e.emit(t ? pn.VIEW_ENTER : pn.VIEW_LEAVE), e) } function M(e, t, n) { O(n); var r = { should_resume: e.autoplay, has_user_gesture: !1, locked: !1 }; n.one([pn.TOUCH_END, pn.CLICK], function () { r.has_user_gesture = !0 }), n.on(pn.PLAY, function () { r.locked || (r.should_resume = !0) }), n.on(pn.PAUSE, function () { r.locked || (r.should_resume = !1) }), n.on(pn.CAN_PLAY, function (t) { if (e.autoplay && !E().size) return n.in_viewport && n.paused && r.should_resume ? n.togglePlay(!0) : void 0 }), e.autopause && (n.on(pn.VIEW_ENTER, function () { r.should_resume && n.togglePlay(!0) }), n.on(pn.VIEW_LEAVE, function () { var e = !n.paused; r.locked = !0, n.pause(), setTimeout(function () { r.should_resume = e, r.locked = !1 }, 0) })) } function L() { return hn.filter(function (e) { return "function" == typeof e.wants }) } function R(e) { return Array.isArray(e) ? e.join(".") : e } function I(e, t) { return t.length - e.length } function C(e) { if (void 0 !== e) { if (e.reaper) return e.reaper; if (!(this instanceof C)) return new C(e); var t = e.reaper = this; return t.tree = e, t.props = [], t.push = function (e) { return t.props = t.props.concat(e), t }, t.put = function (n, r) { return t.push(n), a(e, n, r), r }, t.run = function (n) { n = Array.isArray(n) ? n : [], n.push(t); for (var r = t.props.map(R).sort(I); r.length;) { var i = r.shift(), s = o(e, i); s && s.reaper && !~n.indexOf(s.reaper) && s.reaper.run(n), a(e, i, 0) } for (var u in t) delete t[u]; delete n[n.indexOf(t)], e.reaper = 0 }, t } } function P(e) { this.message = e } function x(e) { var t = String(e).replace(/=+$/, ""); if (t.length % 4 == 1) throw new P("'atob' failed: The string to be decoded is not correctly encoded."); for (var n, r, i = 0, o = 0, a = ""; r = t.charAt(o++); ~r && (n = i % 4 ? 64 * n + r : r, i++ % 4) ? a += String.fromCharCode(255 & n >> (-2 * i & 6)) : 0)r = gn.indexOf(r); return a } function F(e) { return decodeURIComponent(_n(e).replace(/(.)/g, function (e, t) { var n = t.charCodeAt(0).toString(16).toUpperCase(); return n.length < 2 && (n = "0" + n), "%" + n })) } function U(e) { this.message = e } function D(e) { return wn.AUDIO_REQUIRED & e.autoplay } function G(e, t) { t.multiplay || fn.forEach(function (t) { e != t && (t.toggleFullScreen(!1), t.pause()) }) } function V(e) { e.setState(vn.AUTOPLAY, !1), e.setState(vn.WAITING, !1), e.setState(vn.SEAMLESS, !1), e.setState(vn.PAUSED, !0), e.setState(vn.NO_AUTOPLAY, !0) } function Y(e, t, n) { var r = n.muted; return e.catch(function (e) { if (t.paused) return "AbortError" == e.name && 20 == e.code || D(n) ? V(t) : (n.muted = !0, t.toggleMute(!0), t.volume = 0, t.play()) }).then(function () { G(t, n) }).catch(function (e) { if (n.autoplay = !1, n.muted = r, t.toggleMute(!1), !t.started) return V(t); console.error(e), t.emit(pn.ERROR, e) }) } function B(e, t, n) { var r = "boolean" == typeof n; if ("boolean" != typeof n && (n = e.paused), !e.emit(n ? pn.BEFORE_PLAY : pn.BEFORE_PAUSE, { forced: r }, { return_self: !1 }).defaultPrevented) try { var i = n ? e.play() : e.pause(); if (i && "function" == typeof i.catch) return Y(i, e, t); e.paused && n && 0 == e.currentTime && V(e), G(e, t) } catch (t) { e.emit(pn.ERROR, t) } } function j(e) { var t = document.createElement("a"); t.href = e; var n = t.pathname && t.pathname.split("."); return n.length > 1 && n[n.length - 1] } function H(e) { switch (e) { case "video/mpd": return "application/dash+xml"; case "video/m3u8": return "application/x-mpegurl"; default: return e } } function W(e) { var t = e.split("{"), n = t[1]; if (!n) { return [{ src: e, type: H("video/" + j(e)) }] } return n.slice(0, -1).split(",").map(function (e) { return { src: t[0] + e, type: H("video/" + e) } }) } function K(e) { var t = Array(e.length), n = 0; if (0 == e.length) return t; for (; n < e.length;)t[n] = [e.start(n), e.end(n)], n++; return t } function q(e, t, i) { i.toJSON = function () { return { duration: i.duration, volume: i.volume, currentTime: i.currentTime, buffered: K(i.buffered), played: K(i.played), states: i.root.className } }, i.setSrc = function (n) { return "string" == typeof n && (n = W(n)), "function" != typeof n.forEach && (n = [n]), i.currentSrc && (i.innerHTML = ""), n.reverse().forEach(function (r, o) { "string" == typeof r && (r = { src: r }), i.emit(pn.SOURCE, r), i.original_src = r.src; var a = L().filter(function (t) { return t.wants(r.src, r, e) }); if (a.length) { if (!1 !== a.pop().call(i, e, t, i, r)) return } /^audio\//.test(r.type || "") && i.emit(pn.AUDIO_ONLY_SOURCE), e.start_time && (r.src = r.src + "#t=" + e.start_time), i.prepend(y("<source>", r)).on(pn.ERROR, function (e) { if (e.target.remove(), !(o < n.length - 1)) { var t = i.canPlayType(r.type) ? 4 : 5, a = r.src; i.emit(pn.ERROR, { message: 4 == t ? "Video not found: " + a : (r.type || a) + " is not supported", videoType: r.type, code: t, src: a }) } }) }), i.currentSrc && i.load(), "none" == e.preload && i.render(), i }, i.setState = function (e, t) { var n = {}; return n[e] = t, n = r({}, i.playerState, n), n[vn.WAITING] && (n[vn.PLAYING] = !1), vn.STARTING || (n[vn.PAUSED] = !n[vn.PLAYING]), i.playerState = n, i.emit(pn.STATE, i.playerState) }, i.hasState = function (e) { return !!i.playerState[e] }, i.transitionState = function (e, t, n) { i.hasState(e) && (n = 0), n && i.setState(vn.TOGGLING, !0), i.setState(t, !1), i.setState(e, !0), n && setTimeout(function () { i.setState(vn.TOGGLING, !1) }, n) }, i.render = function () { return i.emit(w().ios ? pn.METADATA : pn.DATA), i.emit(pn.CAN_PLAY), i }, i.togglePlay = function (t, n) { var r = B(i, e, t); return "function" != typeof n ? r : "catch" in r ? r.then(n) : n() }, i.toggleMute = function (e) { "boolean" != typeof e && (e = !i.disabled), i.muted = !i.muted, i.muted || i.volume || (i.volume = .5), i.emit(pn.VOLUME_CHANGE) }, i.toggleDisable = function (e) { "boolean" != typeof e && (e = !i.disabled), i.setState(vn.DISABLED, e), i.disabled = e }, i.destroy = i.reap = function (e) { i.pause(); var t = fn.indexOf(i); ~t && fn.splice(t, 1), i.emit(pn.REAP), setTimeout(function () { i.setSrc([]), "function" == typeof e && e() }, 0) }, i.setAttrs = function (e) { kn.forEach(function (t) { var n = d(e[t]); if (n) return i.attr(t, n), void (t in i && (i[t] = n)); !1 === n && (i.removeAttribute(t), t in i && (i[t] = n)) }) }, i.setOpts = function (r) { if (0 != i.reaper) { n(e, r); var o = !!e.autoplay && !i.hasState(vn.NO_AUTOPLAY); i.setState(vn.AUTOPLAY, o), i.setState(vn.RTL, !!e.rtl), i.setState(vn.LIVE, !!e.live), i.setState(vn.NO_DVR, !(!e.live || e.dvr)), i.setState(vn.SEAMLESS, !(!e.seamless && !o)), e.poster && t.css("background-image", "url(" + e.poster + ")"), i.emit(pn.CONFIG, e) } } } function z(e, t) { var n = t.querySelector("video"), r = y(n || (e._video_element_callback ? e._video_element_callback(e) : document.createElement("video"))); return r.addClass("fp-engine"), C(r), r.async = void 0 !== n, r.async && !r.paused ? (r.setState(vn.PLAYING, !0).setState(vn.SEAMLESS, !0), r) : (r.attr("playsinline", ""), r.attr("webkit-playsinline", ""), t.append(r), r) } function X() { if ("undefined" == typeof document) return !1; var e = document.documentElement; return e && "rtl" == e.getAttribute("dir") || !1 } function Q(e, t) { if ("object" == typeof exports && "undefined" != typeof module) return t; "flowplayer" in e || (e.flowplayer = { extensions: [] }); var n = e.flowplayer; return "function" == typeof n ? (n(t), t) : (Array.isArray(n.extensions) || (n.extensions = []), ~n.extensions.indexOf(t) || n.extensions.push(t), t) } function Z() { return "undefined" != typeof window ? window : void 0 !== On ? On : {} } function J(e) { try { return te.validate(e), { success: !0 } } catch (e) { return $(e.message) } } function $(e) { return { success: !1, message: e } } function ee(e, t) { return !!~Mn.indexOf(e) || e.indexOf(t) === e.length - t.length } function te(e, t) { var n = {}, r = this; t = t || {}; try { n = En(e), r.valid_jwt = !0 } catch (e) { } r.raw = e, r.data = JSON.parse(n.c || "{}"), r.exp = n.exp, t.require_valid_token && te.validate(r) } function ne(e, t) { if ("function" != typeof e) { "string" == typeof t && (t = { src: t }), t = n({ rtl: X(), controls: !0, preload: "none" }, t); var r = y(e); if (!r) return console.error(new Error("Flowplayer: '" + e.toString() + "' not found")); if (r.video) return r.video; var i = J(t.token); if (!i.success) return re(r, null, { reason: "token", details: i.message }); if (w().ie > 0 && r.addClass("poor-flex"), !w().video) return r.append(y.img({ src: t.poster })); var o = C(r), a = o.put("video", z(t, r)); a.once(pn.REAP, o.run), o.put("video.root", r), !~fn.indexOf(a) && fn.push(a), q(t, r, a), a.setAttrs(t), hn.forEach(function (e) { "function" == typeof e.onapi && e.onapi.call(ne, t, r, a) }), hn.forEach(function (e) { e.call(ne, t, r, a) }), a.reaper.put("opts", t), a.setOpts(t), t.src && a.setSrc(t.src); var s = a.readyState; return s > 0 && a.currentSrc && a.emit(pn.METADATA), s > 2 && a.currentSrc && a.emit(pn.CAN_PLAY), "none" == t.preload && a.paused && a.currentSrc && a.render(), a.emit(pn.MOUNT), a.on(pn.NON_RECOVERABLE_ERROR, function (e) { re(r, a, e.data) }), a } for (var u = 0; u < arguments.length; ++u)hn.push(arguments[u]) } function re(e, t, n) { t && t.destroy(), e.innerHTML = "", e.removeClass("flowplayer"), e.addClass("flowplayer-fatal"), e.append(y.el("h2", {}, "Playback error")), e.append(y.p({}, "Are you the site owner?")), e.append(y.a({ className: "troubleshoot", target: "_blank", href: "https://flowplayer.com/help/developers/troubleshooting?reason=" + n.reason }, "Troubleshoot")), e.append(y.a({}, y.img({ src: "https://flowplayer.com/user/pages/images/logo-white.png" }))), console.error(new Error(n.details || n.reason)) } function ie(e) { return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e } function oe(e, t) { return t = { exports: {} }, e(t, t.exports), t.exports } function ae(e) { if (!(this instanceof ae)) return new ae(e); var t = this; t.grant = e, t.is_granted = function (e) { var n = (t.grant & e) === e; return n || console.warn("No permission granted for feature(:%s)", Hn[e].toString().toLowerCase()), n } } function se(e) { for (var t, n = 0; n < 16; n++)0 == (3 & n) && (t = 4294967296 * Math.random()), e[n] = t >>> ((3 & n) << 3) & 255; return e } function ue(e, t, n) { if (!(this instanceof ue)) return new ue(e, t, n); var r = this; return r.name = e.name || "RL::anonymous::" + Date.now(), r.locked = !1, r.ttl = t, r.unlock = function () { return r.locked = !1, r }, r.run = function () { r.locked || (r.locked = setTimeout(function () { return e.apply(null, n), r.unlock() }, t)) }, r.cancel = function () { return r.locked && clearTimeout(r.locked), r.unlock() }, r } function ce(e, t, n) { if (!(this instanceof ce)) return new ce(e, t, n); var i = this; i.last_idx = 1, i.segment_duration = 0, i.breakpoints = [], i.calculate_segment_info = function () { return t.duration / 1 === t.duration && r(i, ce.segment_info(t.duration)) }, i.run = function () { if (i.segment_duration || i.calculate_segment_info()) { var e = ce.select_watched_segments(i, t); 0 != e.length && t.emit(Kn.PING, { position: e }) } }, i.update = function () { i.calculate_segment_info(), ce.select_watched_segments(i, t) } } function le(e, t, n) { if (!(this instanceof le)) return new le(e, t, n); var r = this; r.last_tracked_ts = Date.now(), r.ticks = 0, r.run = function () { var e = Date.now(); e - r.last_tracked_ts < Jn || (r.last_tracked_ts = e, ++r.ticks, t.emit(Kn.PING, { position: 60 * r.ticks })) }, r.update = function () { } } function fe(e, t) { return e.metadata.media_id && e.metadata.media_id == t.last_media_id } function de(e, t, n) { if (e && "function" == typeof e.then) { var r = e.then(t); if ("function" != typeof n) return r; r.catch(n) } } function pe(e) { var t = e.ads; return void 0 !== t && (void 0 !== t.schedule && ("function" == typeof t.hasPreroll && (t.currentRequests ? t.currentRequests : !!t.adPlaying || !(!t.hasPreroll() || 0 != t.nextIndex)))) } function ve() { try { return window.location !== window.parent.location ? document.referrer : document.location.href } catch (e) { return !1 } } function me(e) { e.ended || (e.ended = !0, e.comp.cancel(), e.ping()) } function he(e) { window.matchMedia("(orientation: " + e + ")").addListener(function (t) { fn.length && fn.forEach(function (n) { t.matches && n.emit(e) }) }) } function ge(e, t, n) { (w().ios || w().android) && n.on([tr, nr], function (r) { e.multiplay || 0 == e.auto_orient || n.paused || (n.toggleFullScreen(r.type == tr), window.getComputedStyle(t)) }) } function _e(e, t, n) { "undefined" != typeof window && "ontouchstart" in window && n.setState(or, !0); var r; n.setState("is-accessibility", !1), t.middle.on(pn.TOUCH_END, function (e) { 0 != e.cancelable && (e.preventDefault(), n.emit(e.type, e.data)) }), n.on(pn.TOUCH_END, function (e) { setTimeout(function () { if (!e.defaultPrevented && !n.hasClass(vn.WAITING)) { if (n.ended) return n.togglePlay(!0); var t = n.hasState(vn.STARTING); r && clearTimeout(r), (t || n.hasState(rr) || n.hasState(vn.NO_AUTOPLAY)) && (n.hasState(rr) && (n.setState(rr, !1), n.setState(ir, !1)), n.togglePlay(), t) || (n.setState(rr, !0), n.paused || (r = setTimeout(function () { r = 0, n.setState(rr, !1), n.setState(ir, !1) }, 2e3))) } }, 0) }) } function ye(e, t, n) { [ge, _e].forEach(function (r) { r(e, t, n) }) } function Ee(t, n) { function r() { c = t.offset().left, l = t.clientWidth } function i(e) { return "function" == typeof window.TouchEvent && e instanceof TouchEvent } function o(e) { r(); var t = i(e) ? e.changedTouches[0].pageX : e.pageX, n = t - c; return n > l && (n = l), n < 0 && (n = 0), Math.round(n / l * 100) } function a(e) { var n = o(e); n != f && (d.call(_, n, t), f = n) } function s(e) { if (e) { var t = ""; return Array.prototype.forEach.call(e.classList, function (e) { t = "." + e }), t } } function u(e) { var t = window.getComputedStyle(e); return "0" !== t.width && "0" !== t.height && "0" !== t.opacity && "none" !== t.display && "hidden" !== t.visibility } var c, l, f; if ("grabbing" in t) return t; t.grabbing = !1, t.touching = !1; var d = n.onseek || e, p = n.onstart || e, v = n.onend || e, m = n.onmouse || e, h = n.ontouch || e, g = n.ontouchend || e, _ = n.ctx; return t.on(pn.TOUCH_START, function (e) { e.target.closest(s(t)) && (t.touching = !0, u(t.parentElement) && (e.preventDefault(), t.grabbing = !0, h(_, t), p(_, t), a(e))) }), t.on(pn.TOUCH_MOVE, function (e) { e.target.closest(s(t)) && u(t.parentElement) && t.touching && (e.preventDefault(), a(e), m.call(_, o(e), t)) }), t.on(pn.TOUCH_END, function (e) { setTimeout(function () { t.touching = !1, console.debug("Touching to false") }, 500), e.target.closest(s(t)) && u(t.parentElement) && (e.preventDefault(), t.grabbing = !1, g(_, t), v(_, t), l = 0) }), t.on(pn.TOUCH_CANCEL, function () { t.touching = !1, t.grabbing = !1, l = 0 }), t.on(pn.MOUSE_DOWN, function (e) { t.touching || (ar.on(pn.MOUSE_MOVE, a), t.grabbing = !0, p.call(_, t), e.preventDefault(), a(e)) }), t.on(pn.MOUSE_MOVE, function (e) { t.touching || m.call(_, o(e), t) }), ar.on(pn.MOUSE_UP, function () { t.touching || (ar.off(pn.MOUSE_MOVE, a), t.grabbing = !1, v.call(_, t), l = 0) }), t } function be(e) { return document.createElementNS("http://www.w3.org/2000/svg", e) } function we(e) { var t = be("svg"); return t.setAttribute("viewBox", e.coords), e.name && t.setAttribute("class", e.name), e.title && t.setAttribute("title", e.title), e.title && t.setAttribute("aria-label", e.title), t.setAttribute("tabindex", "0"), t.appendChild(Se(e.link)), y(t) } function Se(e) { var t = be("use"); return t.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", e), t } function Ae(e) { if ("undefined" != typeof DOMParser) { var t = (new DOMParser).parseFromString(e, "image/svg+xml"), n = document.importNode(t.documentElement, !0); n.style.display = "none", document.body.appendChild(n) } } function Ne() { return y.div("fp-volume") } function ke(e, t, n) { if (e.controls) { var r = Ne(), i = Oe.call(n, r, Te, e.rtl, n.root); if (!Ie(e)) { var o = y.div("fp-volumebtn", we(hr)); t.append(o), o && o.on(pn.CLICK, n.toggleMute) } if (Re(e) || (.1 == Br.volume && t.append(r), r.attr("tabindex", "0").attr("role", "slider").attr("aria-valuemin", "0").attr("aria-valuemax", "1")), e.muted_initially && sr.setItem(Hr, 1 == e.muted_initially), n.on(pn.VOLUME_CHANGE, function () { var e = 0 == n.volume || n.muted; if (n.setState(vn.MUTED, e), sr.setItem(Hr, e), e) return i.adjust(0); i.grabbing || i.adjust(n.volume) }), "true" == sr.getItem(Hr) && (n.muted = !0, n.setState(vn.MUTED, n.muted)), e.muted_initially) return n.volume = 0, n.one(pn.PAUSE, function () { n.volume = 1 * (sr.getItem(jr) || .5), n.play() }), i; var a = sr.getItem(jr); return a && !isNaN(a) && (n.volume = Number(a)), n.emit(pn.VOLUME_CHANGE), i } } function Te(e, t) { e > 0 && (this.muted = !1, sr.removeItem(Hr)), sr.setItem(jr, this.volume = e / 100), t.adjust(this.volume) } function Oe(e, t, n, r) { var i = 10; return e.empty(), r.hasClass("is-small") && (i = 8), r.hasClass("is-tiny") && (i = 6), Ee(e, { onseek: t, ctx: this }), Le(e, i, n), e } function Me() { return y.i("fp-tick") } function Le(e, t, n) { var r = Array.apply(null, Array(t)).map(Me); return e.append(r), e.adjust = function (i) { e.attr("aria-valuenow", i), i *= 100; var o = (n ? 100 - i : i) / 100, a = Math.round(o * t); r.slice(a, t).forEach(Me.off), r.slice(0, a).forEach(Me.on) }, e } function Re(e) { return Mr & e.ui } function Ie(e) { return Lr & e.ui } function Ce(e, t, n) { n.toggleFullScreen = function (r, i) { Ue(e) || n.ios_fullscreen_disabled || ("boolean" != typeof r && (r = !n.in_fullscreen), r != n.in_fullscreen && (n.in_fullscreen = r, n.emit(r ? pn.FULLSCREEN_ENTER : pn.FULLSCREEN_EXIT), n.emit(pn.RESIZE), y.document.fullscreenEnabled && !e.fake_fullscreen && (r ? t.requestFullScreen() : y.document.exitFullScreen()), Pe() && (n.in_fullscreen ? xe(n) : Fe(n, i, t)))) }, Ue(e) || (Pe() && (n.ios_fullscreen_disabled = !0, n.one(pn.BEFORE_PLAY, function () { n.ios_fullscreen_disabled = !1 }), n.on("webkitendfullscreen", function () { n.toggleFullScreen(!1, !0) }, !1)), n.on([pn.FULLSCREEN_EXIT, pn.FULLSCREEN_ENTER], function (e) { var t = e.type == pn.FULLSCREEN_ENTER; n.in_fullscreen = t, n.setState(vn.FULLSCREEN, t) }), !1 !== e.dblclickable && t.on(pn.DBL_CLICK, function (e) { e.target == t.ui && n.toggleFullScreen() })) } function Pe() { return w().ios } function xe(e) { e.getAttribute("playsinline") && e.removeAttribute("playsinline"), e.getAttribute("webkit-playsinline") && e.removeAttribute("webkit-playsinline"), e.webkitEnterFullScreen() } function Fe(e, t, n) { e.getAttribute("playsinline") || e.setAttribute("playsinline", ""), e.getAttribute("webkit-playsinline") || e.setAttribute("webkit-playsinline", ""), t || e.webkitExitFullScreen(), e.togglePlay(!1), n.hasClass(vn.TOUCHED) || n.addClass(vn.TOUCHED) } function Ue(e) { return Or & e.ui } function De(e, t) { var n = y.div("fp-secondary").addClass("fp-togglable"); if (Ce(e, t.root, t), !Ue(e)) { var r = we(ur).attr("role", "button"), i = we(cr).attr("role", "button"); r.on(pn.CLICK, t.toggleFullScreen), i.on(pn.CLICK, t.toggleFullScreen), n.append([r, i]) } return n } function Ge(e, t, n) { if (t) { e.empty(); var r = y.img({ class: "fp-logo", src: t, alt: "Brand logo" }); if (n) { var i = y.a({ href: n }); i.append(r), r = i } e.append(r) } } function Ve(e, t) { if (!t) return e.empty(); e.txt(c(t)) } function Ye(e, t, n) { var r = y.div("fp-header"), i = y.div("fp-primary"), a = y.div("fp-duration"), s = De(e, n); n.on(pn.CONFIG, function (e) { Ve(a, o(e, "data.duration")), Ge(i, o(e, "data.logo"), o(e, "data.logo_href")) }), r.append([i, a, s]), t.append(r), t.reaper.put("header", r), t.reaper.put("header.secondary", s) } function Be(e, t) { e.on([pn.CLICK, pn.DBL_CLICK], function (e) { if (!e.defaultPrevented) return e.preventDefault(), t.emit(e.type, e.data), !1 }), t.on(pn.CLICK, function (e) { setTimeout(function () { e.defaultPrevented || t.hasState(vn.WAITING) || t.togglePlay() }, 0) }), t.on(pn.DBL_CLICK, function (e) { setTimeout(function () { e.defaultPrevented || t.toggleFullScreen() }, 0) }) } function je(e) { for (var t = y.div("fp-wait"), n = 0; n < 4; n++)t.append(y("<b>")); return e.append(t) } function He(e, t, n) { var r = y.div("fp-middle"); return n.root.reaper.put("middle", r), Be(r, n), je(r), e.mouseover_play && n.root.on([pn.MOUSE_ENTER, pn.MOUSE_LEAVE], function (e) { n.togglePlay("mouseenter" == e.type) }), Wr.forEach(function (e) { r.append(y.div("fp-switch", [Tr["PLAY_" + e], Tr["PAUSE_" + e]].map(We)).addClass("fp-play-" + e)) }), t.append(r), r.attr("tabindex", 0), r.attr("role", "button"), r.attr("aria-label", n._t("core.play")), n.once([pn.PLAYING, pn.SEEKED], function () { r.removeAttribute("tabindex"), r.removeAttribute("role"), r.removeAttribute("aria-label") }), r } function We(e) { var t = we(e); return t.removeAttribute("tabindex"), t } function Ke(e, t) { var n = t || 60, r = Math.ceil(1e3 / n), i = 0, o = null; return function () { var t = Date.now() - i; null === o && (o = Kr(function () { o = null, e.apply(this, arguments), i = Date.now() }, r - t)) } } function qe(e, t, n, r) { "function" == typeof n && (r = n, n = void 0), n = "string" == typeof n ? " " + n : "", r = r || qr; var i = ze(t); return e.put(t, r(i + n)) } function ze(e) { return "fp-" + e } function Xe(e, t) { return t.translation_key ? r({ title: e.translate(t.translation_key) }, t) : t } function Qe(e, t) { var n = qr("fp-controls fp-togglable"), r = C(n), i = qe(r, "timeline", ze("bar")), o = qe(r, "btns", ze("small-switch")), a = qe(r, "live-status"), s = qe(r, "live-indicator", ze("color")), u = qe(r, "live-text").txt("live"), l = qe(r, "buffer"), f = qe(r, "progress", ze("color")), d = qe(r, "hover"), p = qe(r, "timestamp"), v = qe(r, "duration"), m = qe(r, "elapsed", zr).txt(c(0)), h = qe(r, "dragger", ze("color")), g = Xe.bind(null, t); i.attr("role", "slider").attr("tabindex", "0"), i.append([l, f, d, p]), n.append([o, a, m, i, v]), a.append([s, u]), C(n); var _ = we(g(_r)).attr("role", "button"), y = we(g(gr)).attr("role", "button"); return _.on("click", function () { setTimeout(function () { y.focus && y.focus() }, 100) }), y.on("click", function () { setTimeout(function () { _.focus && _.focus() }, 100) }), o.append([_, y]), f.append(h), e.append(n), n } function Ze(e, t) { var n = e.innerWidth() / e.parentElement.innerWidth() * 100 / 2; e.css("left", t - n + "%").show() } function Je(e, t, n) { if (!isNaN(t.duration)) { var r = t.buffered || {}; r.length && n.buffer.css("width", Math.min(r.end(0) / t.duration * 100, 100) + "%") } } function $e(e, t, n) { } function et(e, t, n) { t.duration && n.duration.txt(c(t.duration)) } function tt(e, t, n) { n.elapsed.txt(c(t.currentTime)) } function nt(e, t, n) { n.progress.css("width", t.currentTime / t.duration * 100 + "%") } function rt(e, t, n) { n.hover.css("width", e.percent + "%") } function it(e, t, n) { n.timestamp.show() } function ot(e, t, n) { n.progress.css("width", e.percent + "%"), t.currentTime = t.duration * (e.percent / 100) } function at(e, t, n) { } function st() { } function ut(e, t, n) { n.timestamp.show() } function ct(e, t, n) { n.hover.css("width", 0), n.timestamp.hide() } function lt(e, t, n) { var r = e.percent, i = n.timestamp; !i || isNaN(r) || isNaN(t.duration) || (Ze(n.timestamp, r), i.empty().append(y.span().txt(c(r / 100 * t.duration)))) } function ft(e) { return 100 - e } function dt(e) { if (e.opts.live_seekable_range) return e.opts.live_seekable_range; if (!e.seekable.length) return { head: 0, tail: 0 }; var t = e.opts.live_dvr_window || 0, n = e.seekable.end(e.seekable.length - 1); return { head: n, tail: Math.max(e.seekable.start(0), n - t) } } function pt(e) { try { return e.currentTime - Ct(e) } catch (t) { return console.error(t), e.currentTime } } function vt(e) { return e.currentTime - (ht(e, e.dvr_offset || 0) + Rt(e)) } function mt(e) { var t = Date.now(); return Math.round((t - (e.stream_start || t)) / 1e3) } function ht(e, t) { var n = dt(e), r = t / 100 * (n.head - n.tail); return n.head - n.tail - r } function gt(e, t, n) { } function _t(e, t, n) { } function yt(e, t, n) { } function Et(e, t, n) { } function bt(e, t, n) { if (!t.seeking) { var r = ht(t, e.percent); n.timestamp.txt("-" + c(r)), Ze(n.timestamp, e.percent) } } function wt(e, t, n) { try { t.dvr_offset = 0; var r = It(t); t.currentTime = r, t.setState(vn.LIVE_SEEKED, !1), n.progress.css("width", 0) } catch (e) { console.warn("failed to seek to now: %j", e) } } function St(e, t, n) { } function At(e, t, n) { } function Nt(e, t, n) { t.dvr_offset = 0, n.progress.css("width", 0), t.setState(vn.LIVE_SEEKED, !1) } function kt(e, t, n) { t.dvr_offset = e.percent; var r = ft(t.dvr_offset); n.progress.css("width", r + "%"), t.setState(vn.LIVE_SEEKED, r > 0); var i = dt(t), o = (i.head - i.tail) * (1 - t.dvr_offset / 100), a = i.head - o; t.currentTime = a } function Tt(e, t, n) { } function Ot(e, t, n) { n.hover.css("width", ft(e.percent) + "%") } function Mt(e, t, n) { n.hover.css("width", 0), n.timestamp.hide() } function Lt(e) { return e.opts.live_duration || e.duration } function Rt(e) { return e.opts.live_rebuffer_budget || Qr } function It(e) { return e.opts.live_now || Pt(e) - Rt(e) } function Ct(e) { var t = e.opts.live_dvr_window || 0; return e.opts.live_now ? e.opts.live_now - t : Math.max(0, dt(e).tail - t) } function Pt(e) { return dt(e).head } function xt(e, t) { if (0 == t) return !0; var n = dt(e); return n.head - n.tail >= t } function Ft(e) { if (!(this instanceof Ft)) return new Ft(e); var t = this.kinds = { vod: r({}, Xr), live: r({}, Zr) }; this.route = function (n, r) { var i = t[n] || {}, o = i[r.type]; if (o) return o.apply(r.currentTarget, [r].concat(e, n)); throw new Error("could not handle routed event of type (" + n + ":" + r.type + ")") } } function Ut(e, t, n) {
		function r(e) { return o(e, "opts.live") || e.duration >= Number.MAX_SAFE_INTEGER } if (e.controls) {
			var i = Qe(t.ui, n.translator), a = t.reaper.put("timeline", i.timeline); t.reaper.put("controls", i); var s = Ft([n, i]); n.reaper.put("_behavior", s), Array.prototype.forEach.call(i.btns.childNodes, function (e) { e.on(pn.CLICK, n.togglePlay) }), i["live-status"].on(pn.CLICK, function () { s.route("live", { type: "seek_to_now" }) }), n.on(pn.CONFIG, function (e) { if (0 != n.reaper) { var t; if (r(n) || (t = o(e, "data.duration")), isNaN(t) || t >= Number.MAX_SAFE_INTEGER) return void i.duration.hide(); i.duration.show(), i.duration.txt(c(t)) } }); var u = Ke(function () { 0 != n.reaper && (s.route(Dt(e), { type: "timeline_repaint" }), n.paused || a && a.grabbing || requestAnimationFrame(u)) }, 60); n.on(pn.PLAYING, u), n.paused || u(n, a), n.on(pn.TIME_UPDATE, function (t) { if (0 != n.reaper) { var r = Dt(e); a.attr("aria-valuenow", n.currentTime), s.route(r, t), s.route(r, { type: "buffer_update" }), u(n, a) } }), n.on(pn.PROGRESS, function (t) { if (0 != n.reaper) { var r = Dt(e); e.live && Vt(e) && xt(n, e.seconds_to_dvr || 0) && n.setOpts({ dvr: !0 }), s.route(r, t), s.route(r, { type: "buffer_update" }) } }), n.on(pn.METADATA, function (t) { if (0 != n.reaper) { n.stream_start || n.setOpts({ live: r(n) }); var i = Dt(e); s.route(i, t), s.route(i, { type: "buffer_update" }) } }), n.on(pn.DURATION_CHANGE, function (e) { if (0 != n.reaper) { var t = r(n), i = t ? Lt(n) : e.data || n.duration; 0 == n.reaper || isNaN(i) || (n.setOpts({ live: t, duration: i }), a.attr("aria-valuemax", i), a.attr("aria-valuemin", "0")) } }), n.on(pn.RECOVER, function (t) { var n = Dt(e); s.route(n, t) }); var l = !1
				; Ee(a, { onseek: Gt(n, function (t) { var n = Dt(e); s.route(n, { type: "timeline_grab_moved", percent: t }), s.route(n, { type: "tooltip_update", percent: t }) }), onstart: Gt(n, function () { n.setState(vn.SEEKING, !0), s.route(Dt(e), { type: "timeline_grab_start" }) }), onend: function () { if (n.disabled) return u(); n.setState(vn.SEEKING, !1), s.route(Dt(e), { type: "timeline_grab_end" }), u() }, ontouch: function () { n.paused || (l = !0, n.pause()) }, ontouchend: function () { l && (l = !1, n.play()), s.route(Dt(e), { type: "timeline_mouse_leave" }) }, onmouse: Gt(n, function (t) { if (!a.grabbing) { var n = Dt(e); s.route(n, { type: "timeline_mouse_move", percent: t }), s.route(n, { type: "tooltip_update", percent: t }) } }) }).on(pn.MOUSE_LEAVE, function () { s.route(Dt(e), { type: "timeline_mouse_leave" }) })
		}
	} function Dt(e) { return e.live ? "live" : "vod" } function Gt(e, t) { return function () { isNaN(e.duration) || e.disabled || t.apply(null, arguments) } } function Vt(e) { return !("dvr" in e) || 1 == e.dvr } function Yt(e, t, n) { if (e) { var r = y.div(Jr).txt(t); e.append(r), n && r.append(y.div("fp-error-details").txt(n)) } } function Bt(t, n, r) { r.on(pn.ERROR, function (t) { var i = t.data || {}, o = r.togglePlay, a = t.code || i.code; if (console.error(i), "AbortError" != i.name) { r.setState(vn.ERRORED, !0), 8 != a && (r.togglePlay = e, r.one(pn.RECOVER, function () { r.togglePlay = o, r.setState(vn.ERRORED, !1); var e = n.find("." + Jr); e && e.remove() })), !1 === (navigator || {}).onLine && (i.code = 2, i.message = "Not connected to internet"); var s = i.message || i.stack || "an error occurred"; return Yt(n.ui, s, i.details) } }) } function jt(e, t, n) { var r = t.append(y.div({ class: "fp-footer" })); n.on(pn.CONFIG, function (e) { var t = e.data, n = t.description, i = t.title; if (r.empty(), "string" == typeof i && r.append(y.div({ class: "fp-title" }).txt(t.title)), "string" == typeof n) { var o = n.split(" "), a = y.div({ class: "fp-desc" }).txt(o.join(" ")); for (r.append(a); o.length > 1 && a.scrollHeight > a.offsetHeight;)o.pop(), a.txt(o.join(" ") + "...") } }) } function Ht(e, t, n) { var r = document.createDocumentFragment(), i = y.div("fp-ui"); C(i), r.appendChild(i), t.reaper.put("ui", i), ~t.className.indexOf($r) || t.addClass($r + (e.play || 1)), jt(e, t, n), Ye(e, i, n), He(e, i, n), Ut(e, t, n), ke(e, t.controls, n), Bt(e, t, n), t.appendChild(r), t.on([pn.MOUSE_ENTER, pn.MOUSE_LEAVE], function (e) { n.setState("is-hovered", e.type == pn.MOUSE_ENTER), n.setState("is-accessibility", !1) }), n.on(pn.CONFIG, function (e) { var n = o(e, "data.ui", {}); "number" == typeof n && (t.toggleClass("use-play-1", !(Cr & n || Pr & n)), t.toggleClass("use-play-2", Cr & n), t.toggleClass("use-play-3", Pr & n), t.toggleClass("use-thin-controlbar", xr & n), t.toggleClass("no-title", Fr & n), t.toggleClass("no-description", Ur & n), t.toggleClass("logo-on-right", Rr & n), t.toggleClass("use-drag-handle", Ir & n), t.toggleClass("no-controls", Dr & n), t.toggleClass("no-duration", Gr & n), t.toggleClass("no-header", Vr & n)) }); var a = !1; i.on(pn.MOUSE_MOVE, function () { "number" == typeof a && clearTimeout(a), n.setState("is-hovered", !0), a = 0 == n.paused && setTimeout(function () { n.setState("is-hovered", !1) }, 2e3) }) } function Wt(e, t, n) { setTimeout(function () { e.addClass(ei[t]); for (var r = t; r < 4;)e.removeClass(ei[r]), ++r; n && n() }, 400 - 66 * t) } function Kt(e, t, n) { 0 != e.animation && "none" != e.preload && (t.addClass(ei[3]), n.on(pn.LOAD_START, function () { Wt(t, 2) }), n.on(pn.METADATA, function () { Wt(t, 1) }), n.on(pn.CAN_PLAY, function () { Wt(t, 0) })) } function qt(e, t, n) { if (!ae.from_token(e.token).is_granted(ae.permissions.NO_METERING)) { var r = te.id(e.token); if (r) { var i = function (e) { 403 === e.status && n.emit(pn.NON_RECOVERABLE_ERROR, { reason: "token", details: "The token online validation failed" }) }, o = zt.bind(null, r, i); n.one(pn.PLAYING, o) } } } function zt(e, t) { var n = { token_id: e, factor: 1, rnd: Math.random().toString(36).substring(2) }, r = new XMLHttpRequest, i = JSON.stringify(n), o = "undefined" != typeof flowplayer && flowplayer.METERING_URL ? flowplayer.METERING_URL : "https://pmi.flowplayer.com/in"; r.open("POST", o, !0), r.timeout = 2500, r.send(i), r.addEventListener("load", t.bind(null, r)) } function Xt(e) { if (!(this instanceof Xt)) return new Xt(e); this.dictionaries = e, this.translate = function (e, t) { return void 0 === t && (t = ""), Qt(this.dictionaries, e, t) } } function Qt(e, t, n, r) { return (r = r || 0) >= e.length ? n : o(e[r], t, Qt(e, t, n, r + 1)) } function Zt() { try { return ri.apply([], (navigator.languages || [navigator.language]).map(function (e) { return ~e.indexOf("-") ? [e, e.split("-")[0]] : [e] })).map(function (e) { return e.toLowerCase() }) } catch (e) { return [] } } function Jt(e, t) { var n = {}; return ii[e.lang] && (n[e.lang] = ii[e.lang]), Zt().forEach(function (e) { ii[e] && !n[e] && (n[e] = ii[e]) }), n.length || (n[t] = ii[t]), $t(n) } function $t(e) { var t = []; for (var n in e) e.hasOwnProperty(n) && t.push(e[n]); return t } var en = [].slice, tn = Object.freeze({ noop: e, safe: t, extend: n, assign: r, make_path: i, lens: o, put: a, get: s, zero_pad: u, prettyTime: c, toArray: l, box: f, as_bool: d }), nn = "", rn = " ", on = Array.isArray, an = "undefined" != typeof window && v(window), sn = "undefined" != typeof document && v(document), un = ["span", "a", "em", "p", "i"], cn = un.concat(["div", "strong", "video", "img", "ol", "ul", "li", "script"]), ln = "__flowplayer__"; y.window = an, y.document = sn, y.el = m, cn.forEach(function (e) { y[e] = function (t, n) { return "string" == typeof t && (t = { class: t }), m(e, t, n) } }); var fn = [], dn = Object.freeze({ instances: fn, playing: E }), pn = { MOUNT: "mount", ERROR: "error", CONTEXT_MENU: "contextmenu", CLICK: "click", DBL_CLICK: "dblclick", KEYUP: "keyup", KEYDOWN: "keydown", LOAD: "load", MOUSE_ENTER: "mouseenter", MOUSE_LEAVE: "mouseleave", MOUSE_UP: "mouseup", MOUSE_DOWN: "mousedown", MOUSE_MOVE: "mousemove", TOUCH_START: "touchstart", TOUCH_MOVE: "touchmove", TOUCH_END: "touchend", TOUCH_CANCEL: "touchcancel", RESIZE: "resize", SCROLL: "scroll", FULLSCREEN_ENTER: "fullscreenenter", FULLSCREEN_EXIT: "fullscreenexit", FULLSCREEN_CHANGE: "fullscreenchange", METADATA: "loadedmetadata", DATA: "loadeddata", PROGRESS: "progress", TIME_UPDATE: "timeupdate", LOAD_START: "loadstart", VOLUME_CHANGE: "volumechange", PAUSE: "pause", PLAYING: "playing", PLAY: "play", WAITING: "waiting", CAN_PLAY: "canplay", ENDED: "ended", SEEKED: "seeked", SEEKING: "seeking", DURATION_CHANGE: "durationchange", BEFORE_PLAY: "beforeplay", BEFORE_PAUSE: "beforepause", STATE: "state", CUEPOINTS: "cuepoints", CUEPOINT_START: "cuepointstart", CUEPOINT_END: "cuepointend", VIEW_ENTER: "viewenter", VIEW_LEAVE: "viewleave", SOURCE: "src", RECOVER: "recover", REAP: "reap", CONFIG: "config", QUALITIES: "qualities", SET_QUALITY: "quality:set", NON_RECOVERABLE_ERROR: "error:fatal", RECOMMENDATIONS_READY: "recommendationsready", AUDIO_ONLY_SOURCE: "audioonlysource" }, vn = { FULLSCREEN: "is-fullscreen", PLAYING: "is-playing", PAUSED: "is-paused", MUTED: "is-muted", LOADED: "is-loaded", LOADING: "is-loading", STARTING: "is-starting", SEEKING: "is-seeking", GRABBING: "is-grabbing", DISABLED: "is-disabled", SMALL: "is-small", TINY: "is-tiny", RTL: "is-rtl", ENDED: "is-ended", LIVE: "is-live", ERRORED: "is-error", WAITING: "is-waiting", AUTOPLAY: "is-autoplay", SEAMLESS: "is-seamless", NO_AUTOPLAY: "no-autoplay", TOGGLING: "is-toggling", LIVE_SEEKED: "is-live-seeked", NO_DVR: "no-timeline" }; y.window && y.window.on([pn.LOAD, pn.RESIZE], function () { fn.forEach(function (e) { var t = e.root; t.prevWidth != t.clientWidth && (e.emit(pn.RESIZE), t.prevWidth = t.clientWidth) }) }); var mn = .5625; y.window && y.window.on(pn.SCROLL, function () { fn.forEach(O) }); var hn = [A, k, M], gn = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; P.prototype = new Error, P.prototype.name = "InvalidCharacterError"; var _n = "undefined" != typeof window && window.atob && window.atob.bind(window) || x, yn = function (e) { var t = e.replace(/-/g, "+").replace(/_/g, "/"); switch (t.length % 4) { case 0: break; case 2: t += "=="; break; case 3: t += "="; break; default: throw "Illegal base64url string!" }try { return F(t) } catch (e) { return _n(t) } }; U.prototype = new Error, U.prototype.name = "InvalidTokenError"; var En = function (e, t) { if ("string" != typeof e) throw new U("Invalid token specified"); t = t || {}; var n = !0 === t.header ? 0 : 1; try { return JSON.parse(yn(e.split(".")[n])) } catch (e) { throw new U("Invalid token specified: " + e.message) } }, bn = U; En.InvalidTokenError = bn; var wn = { OFF: 0, ON: 1, AUDIO_REQUIRED: 2 }, Sn = { WIDEVINE: "com.widevine.alpha", PLAYREADY: "com.microsoft.playready", CLEARKEY: "org.w3.clearkey", FAIRPLAY: "fairplay" }, An = { LICENSE_SERVER: "license_server", KEY: "key", KEY_ID: "kid", HTTP_HEADERS: "http_headers" }, Nn = n(Sn, An), kn = ["loop", "muted", "preload", "autoplay"], Tn = ["complete", "interactive", "loaded"], On = "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, Mn = ["localhost", "127.0.0.1", "0.0.0.0", "s.codepen.io", "cdpn.io"]; ee.check_whitelist = function (e) { return !!~Mn.indexOf(e) }, te.validate = function (e) { if ("string" == typeof e && (e = new te(e)), !e || !e.raw) { if (ee.check_whitelist(window.location.hostname)) return !0; throw new Error("No token provided in configuration") } if (!e.valid_jwt) throw new Error("Invalid token provided"); var t = window.location.hostname, n = ee.bind(null, t); if (e.data.domain && e.data.domain.length && !e.data.domain.some(n)) throw new Error("Domain not allowed"); if (1e3 * e.exp - Date.now() < 0) throw new Error("Expired token"); return !0 }, te.id = function (e) { if (e) return "string" == typeof e && (e = new te(e)), e.data.id }, r(ne, function () { var e = Z(), t = e.flowplayer ? e.flowplayer : { extensions: [] }; return Array.isArray(t.extensions) || (t.extensions = []), t }()), function (e) { Array.isArray(e.extensions) && e.extensions.forEach(function (e) { hn.push(e) }), e.version = "2.1.8", e.commit = "2c6a33272d4d90ac92864a3a7b2f1b6440964b0b", e.Players = dn, e.instances = fn, e.extensions = hn, e.loaders = L, e.support = w, e.events = pn, e.states = vn, e.mq = y, e.jwt = En, e.util = tn, e.observable = v, e.Reaper = C, e.autoplay = e.autoplay_options = wn, e.drm = Nn }(ne); var Ln = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}; Array.prototype.find || Object.defineProperty(Array.prototype, "find", { value: function (e) { if (null == this) throw new TypeError('"this" is null or not defined'); var t = Object(this), n = t.length >>> 0; if ("function" != typeof e) throw new TypeError("predicate must be a function"); for (var r = arguments[1], i = 0; i < n;) { var o = t[i]; if (e.call(r, o, i, t)) return o; i++ } }, configurable: !0, writable: !0 }); var Rn = oe(function (e, t) { !function (t, n) { e.exports = function () { return function (e) { function t(r) { if (n[r]) return n[r].exports; var i = n[r] = { i: r, l: !1, exports: {} }; return e[r].call(i.exports, i, i.exports, t), i.l = !0, i.exports } var n = {}; return t.m = e, t.c = n, t.d = function (e, n, r) { t.o(e, n) || Object.defineProperty(e, n, { enumerable: !0, get: r }) }, t.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, t.t = function (e, n) { if (1 & n && (e = t(e)), 8 & n) return e; if (4 & n && "object" == typeof e && e && e.__esModule) return e; var r = Object.create(null); if (t.r(r), Object.defineProperty(r, "default", { enumerable: !0, value: e }), 2 & n && "string" != typeof e) for (var i in e) t.d(r, i, function (t) { return e[t] }.bind(null, i)); return r }, t.n = function (e) { var n = e && e.__esModule ? function () { return e.default } : function () { return e }; return t.d(n, "a", n), n }, t.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, t.p = "", t(t.s = 70) }({ 18: function (e, t, n) { var r, i, o; i = [e], void 0 === (o = "function" == typeof (r = function (e) { var t = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } return function (t, n, r) { return n && e(t.prototype, n), r && e(t, r), t } }(), n = function () { function e() { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e) } return t(e, null, [{ key: "getFirstMatch", value: function (e, t) { var n = t.match(e); return n && n.length > 0 && n[1] || "" } }, { key: "getSecondMatch", value: function (e, t) { var n = t.match(e); return n && n.length > 1 && n[2] || "" } }, { key: "matchAndReturnConst", value: function (e, t, n) { if (e.test(t)) return n } }, { key: "getWindowsVersionName", value: function (e) { switch (e) { case "NT": return "NT"; case "XP": return "XP"; case "NT 5.0": return "2000"; case "NT 5.1": return "XP"; case "NT 5.2": return "2003"; case "NT 6.0": return "Vista"; case "NT 6.1": return "7"; case "NT 6.2": return "8"; case "NT 6.3": return "8.1"; case "NT 10.0": return "10"; default: return } } }, { key: "getVersionPrecision", value: function (e) { return e.split(".").length } }, { key: "compareVersions", value: function (t, n) { var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], i = e.getVersionPrecision(t), o = e.getVersionPrecision(n), a = Math.max(i, o), s = 0, u = e.map([t, n], function (t) { var n = a - e.getVersionPrecision(t), r = t + new Array(n + 1).join(".0"); return e.map(r.split("."), function (e) { return new Array(20 - e.length).join("0") + e }).reverse() }); for (r && (s = a - Math.min(i, o)), a -= 1; a >= s;) { if (u[0][a] > u[1][a]) return 1; if (u[0][a] === u[1][a]) { if (a === s) return 0; a -= 1 } else if (u[0][a] < u[1][a]) return -1 } } }, { key: "map", value: function (e, t) { var n = [], r = void 0; if (Array.prototype.map) return Array.prototype.map.call(e, t); for (r = 0; r < e.length; r += 1)n.push(t(e[r])); return n } }]), e }(); e.exports = n }) ? r.apply(t, i) : r) || (e.exports = o) }, 65: function (e, t, n) { var r, i, o; i = [t, n(18)], void 0 === (o = "function" == typeof (r = function (t, n) { Object.defineProperty(t, "__esModule", { value: !0 }), t.default = [{ test: function (e) { return "microsoft edge" === e.getBrowserName(!0) }, describe: function (e) { return { name: "EdgeHTML", version: (0, n.getFirstMatch)(/edge\/(\d+(\.?_?\d+)+)/i, e) } } }, { test: [/trident/i], describe: function (e) { var t = { name: "Trident" }, r = (0, n.getFirstMatch)(/trident\/(\d+(\.?_?\d+)+)/i, e); return r && (t.version = r), t } }, { test: function (e) { return e.test(/presto/i) }, describe: function (e) { var t = { name: "Presto" }, r = (0, n.getFirstMatch)(/presto\/(\d+(\.?_?\d+)+)/i, e); return r && (t.version = r), t } }, { test: function (e) { var t = e.test(/gecko/i), n = e.test(/like gecko/i); return t && !n }, describe: function (e) { var t = { name: "Gecko" }, r = (0, n.getFirstMatch)(/gecko\/(\d+(\.?_?\d+)+)/i, e); return r && (t.version = r), t } }, { test: [/(apple)?webkit\/537\.36/i], describe: function () { return { name: "Blink" } } }, { test: [/(apple)?webkit/i], describe: function (e) { var t = { name: "WebKit" }, r = (0, n.getFirstMatch)(/webkit\/(\d+(\.?_?\d+)+)/i, e); return r && (t.version = r), t } }], e.exports = t.default }) ? r.apply(t, i) : r) || (e.exports = o) }, 66: function (e, t, n) { var r, i, o; i = [t, n(18)], void 0 === (o = "function" == typeof (r = function (t, n) { Object.defineProperty(t, "__esModule", { value: !0 }); var r = { tablet: "tablet", mobile: "mobile", desktop: "desktop" }; t.default = [{ test: [/nexus\s*(?:7|8|9|10).*/i], describe: function () { return { type: r.tablet, vendor: "Nexus" } } }, { test: [/ipad/i], describe: function () { return { type: r.tablet, vendor: "Apple", model: "iPad" } } }, { test: [/kftt build/i], describe: function () { return { type: r.tablet, vendor: "Amazon", model: "Kindle Fire HD 7" } } }, { test: [/silk/i], describe: function () { return { type: r.tablet, vendor: "Amazon" } } }, { test: [/tablet/i], describe: function () { return { type: r.tablet } } }, { test: function (e) { var t = e.test(/ipod|iphone/i), n = e.test(/like (ipod|iphone)/i); return t && !n }, describe: function (e) { var t = (0, n.getFirstMatch)(/(ipod|iphone)/i, e); return { type: r.mobile, vendor: "Apple", model: t } } }, { test: [/nexus\s*[0-6].*/i, /galaxy nexus/i], describe: function () { return { type: r.mobile, vendor: "Nexus" } } }, { test: [/[^-]mobi/i], describe: function () { return { type: r.mobile } } }, { test: function (e) { return "blackberry" === e.getBrowserName(!0) }, describe: function () { return { type: r.mobile, vendor: "BlackBerry" } } }, { test: function (e) { return "bada" === e.getBrowserName(!0) }, describe: function () { return { type: r.mobile } } }, { test: function (e) { return "windows phone" === e.getBrowserName() }, describe: function () { return { type: r.mobile, vendor: "Microsoft" } } }, { test: function (e) { var t = Number(String(e.getOSVersion()).split(".")[0]); return "android" === e.getOSName(!0) && t >= 3 }, describe: function () { return { type: r.tablet } } }, { test: function (e) { return "android" === e.getOSName(!0) }, describe: function () { return { type: r.mobile } } }, { test: function (e) { return "macos" === e.getOSName(!0) }, describe: function () { return { type: r.desktop, vendor: "Apple" } } }, { test: function (e) { return "windows" === e.getOSName(!0) }, describe: function () { return { type: r.desktop } } }, { test: function (e) { return "linux" === e.getOSName(!0) }, describe: function () { return { type: r.desktop } } }], e.exports = t.default }) ? r.apply(t, i) : r) || (e.exports = o) }, 67: function (e, t, n) { var r, i, o; i = [t, n(18)], void 0 === (o = "function" == typeof (r = function (t, n) { Object.defineProperty(t, "__esModule", { value: !0 }), t.default = [{ test: [/windows phone/i], describe: function (e) { return { name: "Windows Phone", version: (0, n.getFirstMatch)(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i, e) } } }, { test: [/windows/i], describe: function (e) { var t = (0, n.getFirstMatch)(/Windows ((NT|XP)( \d\d?.\d)?)/i, e); return { name: "Windows", version: t, versionName: (0, n.getWindowsVersionName)(t) } } }, { test: [/macintosh/i], describe: function (e) { return { name: "macOS", version: (0, n.getFirstMatch)(/mac os x (\d+(\.?_?\d+)+)/i, e).replace(/[_\s]/g, ".") } } }, { test: [/(ipod|iphone|ipad)/i], describe: function (e) { return { name: "iOS", version: (0, n.getFirstMatch)(/os (\d+([_\s]\d+)*) like mac os x/i, e).replace(/[_\s]/g, ".") } } }, { test: function (e) { var t = !e.test(/like android/i), n = e.test(/android/i); return t && n }, describe: function (e) { return { name: "Android", version: (0, n.getFirstMatch)(/android[\s\/-](\d+(\.\d+)*)/i, e) } } }, { test: [/(web|hpw)[o0]s/i], describe: function (e) { var t = (0, n.getFirstMatch)(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i, e), r = { name: "WebOS" }; return t && t.length && (r.version = t), r } }, { test: [/blackberry|\bbb\d+/i, /rim\stablet/i], describe: function (e) { return { name: "BlackBerry", version: (0, n.getFirstMatch)(/rim\stablet\sos\s(\d+(\.\d+)*)/i, e) || (0, n.getFirstMatch)(/blackberry\d+\/(\d+([_\s]\d+)*)/i, e) || (0, n.getFirstMatch)(/\bbb(\d+)/i, e) } } }, { test: [/bada/i], describe: function (e) { return { name: "Bada", version: (0, n.getFirstMatch)(/bada\/(\d+(\.\d+)*)/i, e) } } }, { test: [/tizen/i], describe: function (e) { return { name: "Tizen", version: (0, n.getFirstMatch)(/tizen[\/\s](\d+(\.\d+)*)/i, e) } } }, { test: [/linux/i], describe: function () { return { name: "Linux" } } }], e.exports = t.default }) ? r.apply(t, i) : r) || (e.exports = o) }, 68: function (e, t, n) { var r, i, o; i = [t, n(18)], void 0 === (o = "function" == typeof (r = function (t, n) { Object.defineProperty(t, "__esModule", { value: !0 }); var r = /version\/(\d+(\.?_?\d+)+)/i, i = [{ test: [/opera/i], describe: function (e) { var t = { name: "Opera" }, i = (0, n.getFirstMatch)(r, e) || (0, n.getFirstMatch)(/(?:opera)[\s\/](\d+(\.?_?\d+)+)/i, e); return i && (t.version = i), t } }, { test: [/opr\/|opios/i], describe: function (e) { var t = { name: "Opera" }, i = (0, n.getFirstMatch)(/(?:opr|opios)[\s\/](\S+)/i, e) || (0, n.getFirstMatch)(r, e); return i && (t.version = i), t } }, { test: [/SamsungBrowser/i], describe: function (e) { var t = { name: "Samsung Internet for Android" }, i = (0, n.getFirstMatch)(r, e) || (0, n.getFirstMatch)(/(?:SamsungBrowser)[\s\/](\d+(\.?_?\d+)+)/i, e); return i && (t.version = i), t } }, { test: [/Whale/i], describe: function (e) { var t = { name: "NAVER Whale Browser" }, i = (0, n.getFirstMatch)(r, e) || (0, n.getFirstMatch)(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i, e); return i && (t.version = i), t } }, { test: [/MZBrowser/i], describe: function (e) { var t = { name: "MZ Browser" }, i = (0, n.getFirstMatch)(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i, e) || (0, n.getFirstMatch)(r, e); return i && (t.version = i), t } }, { test: [/focus/i], describe: function (e) { var t = { name: "Focus" }, i = (0, n.getFirstMatch)(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i, e) || (0, n.getFirstMatch)(r, e); return i && (t.version = i), t } }, { test: [/swing/i], describe: function (e) { var t = { name: "Swing" }, i = (0, n.getFirstMatch)(/(?:swing)[\s\/](\d+(?:\.\d+)+)/i, e) || (0, n.getFirstMatch)(r, e); return i && (t.version = i), t } }, { test: [/coast/i], describe: function (e) { var t = { name: "Opera Coast" }, i = (0, n.getFirstMatch)(r, e) || (0, n.getFirstMatch)(/(?:coast)[\s\/](\d+(\.?_?\d+)+)/i, e); return i && (t.version = i), t } }, { test: [/yabrowser/i], describe: function (e) { var t = { name: "Yandex Browser" }, i = (0, n.getFirstMatch)(r, e) || (0, n.getFirstMatch)(/(?:yabrowser)[\s\/](\d+(\.?_?\d+)+)/i, e); return i && (t.version = i), t } }, { test: [/ucbrowser/i], describe: function (e) { var t = { name: "UC Browser" }, i = (0, n.getFirstMatch)(r, e) || (0, n.getFirstMatch)(/(?:ucbrowser)[\s\/](\d+(\.?_?\d+)+)/i, e); return i && (t.version = i), t } }, { test: [/Maxthon|mxios/i], describe: function (e) { var t = { name: "Maxthon" }, i = (0, n.getFirstMatch)(r, e) || (0, n.getFirstMatch)(/(?:Maxthon|mxios)[\s\/](\d+(\.?_?\d+)+)/i, e); return i && (t.version = i), t } }, { test: [/epiphany/i], describe: function (e) { var t = { name: "Epiphany" }, i = (0, n.getFirstMatch)(r, e) || (0, n.getFirstMatch)(/(?:epiphany)[\s\/](\d+(\.?_?\d+)+)/i, e); return i && (t.version = i), t } }, { test: [/puffin/i], describe: function (e) { var t = { name: "Puffin" }, i = (0, n.getFirstMatch)(r, e) || (0, n.getFirstMatch)(/(?:puffin)[\s\/](\d+(\.?_?\d+)+)/i, e); return i && (t.version = i), t } }, { test: [/sleipnir/i], describe: function (e) { var t = { name: "Sleipnir" }, i = (0, n.getFirstMatch)(r, e) || (0, n.getFirstMatch)(/(?:sleipnir)[\s\/](\d+(\.?_?\d+)+)/i, e); return i && (t.version = i), t } }, { test: [/k-meleon/i], describe: function (e) { var t = { name: "K-Meleon" }, i = (0, n.getFirstMatch)(r, e) || (0, n.getFirstMatch)(/(?:k-meleon)[\s\/](\d+(\.?_?\d+)+)/i, e); return i && (t.version = i), t } }, { test: [/msie|trident/i], describe: function (e) { var t = { name: "Internet Explorer" }, r = (0, n.getFirstMatch)(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i, e); return r && (t.version = r), t } }, { test: [/edg([ea]|ios)/i], describe: function (e) { var t = { name: "Microsoft Edge" }, r = (0, n.getSecondMatch)(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i, e); return r && (t.version = r), t } }, { test: [/vivaldi/i], describe: function (e) { var t = { name: "Vivaldi" }, r = (0, n.getFirstMatch)(/vivaldi\/(\d+(\.?_?\d+)+)/i, e); return r && (t.version = r), t } }, { test: [/seamonkey/i], describe: function (e) { var t = { name: "SeaMonkey" }, r = (0, n.getFirstMatch)(/seamonkey\/(\d+(\.?_?\d+)+)/i, e); return r && (t.version = r), t } }, { test: [/sailfish/i], describe: function (e) { var t = { name: "Sailfish" }, r = (0, n.getFirstMatch)(/sailfish\s?browser\/(\d+(\.\d+)?)/i, e); return r && (t.version = r), t } }, { test: [/silk/i], describe: function (e) { var t = { name: "Amazon Silk" }, r = (0, n.getFirstMatch)(/silk\/(\d+(\.?_?\d+)+)/i, e); return r && (t.version = r), t } }, { test: [/phantom/i], describe: function (e) { var t = { name: "PhantomJS" }, r = (0, n.getFirstMatch)(/phantomjs\/(\d+(\.?_?\d+)+)/i, e); return r && (t.version = r), t } }, { test: [/slimerjs/i], describe: function (e) { var t = { name: "SlimerJS" }, r = (0, n.getFirstMatch)(/slimerjs\/(\d+(\.?_?\d+)+)/i, e); return r && (t.version = r), t } }, { test: [/blackberry|\bbb\d+/i, /rim\stablet/i], describe: function (e) { var t = { name: "BlackBerry" }, i = (0, n.getFirstMatch)(r, e) || (0, n.getFirstMatch)(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i, e); return i && (t.version = i), t } }, { test: [/(web|hpw)[o0]s/i], describe: function (e) { var t = { name: "WebOS Browser" }, i = (0, n.getFirstMatch)(r, e) || (0, n.getFirstMatch)(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i, e); return i && (t.version = i), t } }, { test: [/bada/i], describe: function (e) { var t = { name: "Bada" }, r = (0, n.getFirstMatch)(/dolfin\/(\d+(\.?_?\d+)+)/i, e); return r && (t.version = r), t } }, { test: [/tizen/i], describe: function (e) { var t = { name: "Tizen" }, i = (0, n.getFirstMatch)(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i, e) || (0, n.getFirstMatch)(r, e); return i && (t.version = i), t } }, { test: [/qupzilla/i], describe: function (e) { var t = { name: "QupZilla" }, i = (0, n.getFirstMatch)(/(?:qupzilla)[\s\/](\d+(\.?_?\d+)+)/i, e) || (0, n.getFirstMatch)(r, e); return i && (t.version = i), t } }, { test: [/firefox|iceweasel|fxios/i], describe: function (e) { var t = { name: "Firefox" }, r = (0, n.getFirstMatch)(/(?:firefox|iceweasel|fxios)[\s\/](\d+(\.?_?\d+)+)/i, e); return r && (t.version = r), t } }, { test: [/chromium/i], describe: function (e) { var t = { name: "Chromium" }, i = (0, n.getFirstMatch)(/(?:chromium)[\s\/](\d+(\.?_?\d+)+)/i, e) || (0, n.getFirstMatch)(r, e); return i && (t.version = i), t } }, { test: [/chrome|crios|crmo/i], describe: function (e) { var t = { name: "Chrome" }, r = (0, n.getFirstMatch)(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i, e); return r && (t.version = r), t } }, { test: function (e) { var t = !e.test(/like android/i), n = e.test(/android/i); return t && n }, describe: function (e) { var t = { name: "Android Browser" }, i = (0, n.getFirstMatch)(r, e); return i && (t.version = i), t } }, { test: [/safari|applewebkit/i], describe: function (e) { var t = { name: "Safari" }, i = (0, n.getFirstMatch)(r, e); return i && (t.version = i), t } }, { test: [/googlebot/i], describe: function (e) { var t = { name: "Googlebot" }, i = (0, n.getFirstMatch)(/googlebot\/(\d+(\.\d+))/i, e) || (0, n.getFirstMatch)(r, e); return i && (t.version = i), t } }, { test: [/.*/i], describe: function (e) { return { name: (0, n.getFirstMatch)(/^(.*)\/(.*) /, e), version: (0, n.getSecondMatch)(/^(.*)\/(.*) /, e) } } }]; t.default = i, e.exports = t.default }) ? r.apply(t, i) : r) || (e.exports = o) }, 69: function (e, t, n) { var r, i, o; i = [t, n(68), n(67), n(66), n(65), n(18)], void 0 === (o = "function" == typeof (r = function (t, n, r, i, o, a) { function s(e) { return e && e.__esModule ? e : { default: e } } Object.defineProperty(t, "__esModule", { value: !0 }); var u = s(n), c = s(r), l = s(i), f = s(o), d = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, p = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } return function (t, n, r) { return n && e(t.prototype, n), r && e(t, r), t } }(), v = function () { function e(t) { var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; if (function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), void 0 === t || null === t || "" === t) throw new Error("UserAgent parameter can't be empty"); this._ua = t, this.parsedResult = {}, !0 !== n && this.parse() } return p(e, [{ key: "getUA", value: function () { return this._ua } }, { key: "test", value: function (e) { return e.test(this._ua) } }, { key: "parseBrowser", value: function () { var e = this; this.parsedResult.browser = {}; var t = u.default.find(function (t) { if ("function" == typeof t.test) return t.test(e); if (t.test instanceof Array) return t.test.some(function (t) { return e.test(t) }); throw new Error("Browser's test function is not valid") }); return t && (this.parsedResult.browser = t.describe(this.getUA())), this.parsedResult.browser } }, { key: "getBrowser", value: function () { return this.parsedResult.browser ? this.parsedResult.browser : this.parseBrowser() } }, { key: "getBrowserName", value: function (e) { return e ? String(this.getBrowser().name).toLowerCase() || "" : this.getBrowser().name || "" } }, { key: "getBrowserVersion", value: function () { return this.getBrowser().version } }, { key: "getOS", value: function () { return this.parsedResult.os ? this.parsedResult.os : this.parseOS() } }, { key: "parseOS", value: function () { var e = this; this.parsedResult.os = {}; var t = c.default.find(function (t) { if ("function" == typeof t.test) return t.test(e); if (t.test instanceof Array) return t.test.some(function (t) { return e.test(t) }); throw new Error("Browser's test function is not valid") }); return t && (this.parsedResult.os = t.describe(this.getUA())), this.parsedResult.os } }, { key: "getOSName", value: function (e) { var t = this.getOS(), n = t.name; return e ? String(n).toLowerCase() || "" : n || "" } }, { key: "getOSVersion", value: function () { return this.getOS().version } }, { key: "getPlatform", value: function () { return this.parsedResult.platform ? this.parsedResult.platform : this.parsePlatform() } }, { key: "getPlatformType", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t = this.getPlatform(), n = t.type; return e ? String(n).toLowerCase() || "" : n || "" } }, { key: "parsePlatform", value: function () { var e = this; this.parsedResult.platform = {}; var t = l.default.find(function (t) { if ("function" == typeof t.test) return t.test(e); if (t.test instanceof Array) return t.test.some(function (t) { return e.test(t) }); throw new Error("Browser's test function is not valid") }); return t && (this.parsedResult.platform = t.describe(this.getUA())), this.parsedResult.platform } }, { key: "getEngine", value: function () { return this.parsedResult.engine ? this.parsedResult.engine : this.parseEngine() } }, { key: "parseEngine", value: function () { var e = this; this.parsedResult.engine = {}; var t = f.default.find(function (t) { if ("function" == typeof t.test) return t.test(e); if (t.test instanceof Array) return t.test.some(function (t) { return e.test(t) }); throw new Error("Browser's test function is not valid") }); return t && (this.parsedResult.engine = t.describe(this.getUA())), this.parsedResult.engine } }, { key: "parse", value: function () { return this.parseBrowser(), this.parseOS(), this.parsePlatform(), this.parseEngine(), this } }, { key: "getResult", value: function () { return this.parsedResult } }, { key: "satisfies", value: function (e) { var t = this, n = {}, r = 0, i = {}, o = 0; if (Object.keys(e).forEach(function (t) { var a = e[t]; "string" == typeof a ? (i[t] = a, o += 1) : "object" === (void 0 === a ? "undefined" : d(a)) && (n[t] = a, r += 1) }), r > 0) { var a = Object.keys(n), s = a.find(function (e) { return t.isOS(e) }); if (s) { var u = this.satisfies(n[s]); if (void 0 !== u) return u } var c = a.find(function (e) { return t.isPlatform(e) }); if (c) { var l = this.satisfies(n[c]); if (void 0 !== l) return l } } if (o > 0) { var f = Object.keys(i), p = f.find(function (e) { return t.isBrowser(e) }); if (void 0 !== p) return this.compareVersion(i[p]) } } }, { key: "isBrowser", value: function (e) { return this.getBrowserName(!0) === String(e).toLowerCase() } }, { key: "compareVersion", value: function (e) { var t = 0, n = e, r = !1, i = this.getBrowserVersion(); if ("string" == typeof i) return ">" === e[0] ? (t = 1, n = e.substr(1)) : "<" === e[0] ? (t = -1, n = e.substr(1)) : "=" === e[0] ? n = e.substr(1) : "~" === e[0] && (r = !0, n = e.substr(1)), (0, a.compareVersions)(i, n, r) === t } }, { key: "isOS", value: function (e) { return this.getOSName(!0) === String(e).toLowerCase() } }, { key: "isPlatform", value: function (e) { return this.getPlatformType(!0) === String(e).toLowerCase() } }, { key: "is", value: function (e) { return this.isBrowser(e) || this.isOS(e) || this.isPlatform(e) } }, { key: "some", value: function () { var e = this; return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).some(function (t) { return e.is(t) }) } }]), e }(); t.default = v, e.exports = t.default }) ? r.apply(t, i) : r) || (e.exports = o) }, 70: function (e, t, n) { var r, i, o; i = [t, n(69)], void 0 === (o = "function" == typeof (r = function (t, n) { Object.defineProperty(t, "__esModule", { value: !0 }); var r = function (e) { return e && e.__esModule ? e : { default: e } }(n), i = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } return function (t, n, r) { return n && e(t.prototype, n), r && e(t, r), t } }(), o = function () { function e() { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e) } return i(e, null, [{ key: "getParser", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; if ("string" != typeof e) throw new Error("UserAgent should be a string"); return new r.default(e, t) } }, { key: "parse", value: function (e) { return new r.default(e).getResult() } }]), e }(); t.default = o, e.exports = t.default }) ? r.apply(t, i) : r) || (e.exports = o) } }) }() }() }); ie(Rn); var In = (Rn.bowser, oe(function (e, t) { var n = Ln && Ln.__assign || function () { return n = Object.assign || function (e) { for (var t, n = 1, r = arguments.length; n < r; n++) { t = arguments[n]; for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]) } return e }, n.apply(this, arguments) }; t.__esModule = !0, t.merge = function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; return e.reduce(function (e, t) { return n({}, e, t) }, {}) }, t.pluck = function (e) { for (var n = [], r = 1; r < arguments.length; r++)n[r - 1] = arguments[r]; return Object.keys(e).filter(function (e) { return ~n.indexOf(e) }).reduce(function (n, r) { var i; return t.merge(n, (i = {}, i[r] = e[r], i)) }, {}) }, t.downcase = function (e) { return (e || "").toString().toLowerCase() }, t.remove = function (e, t) { var n = e.lastIndexOf(t); return ~n && e.splice(n, 1), e } })); ie(In); var Cn = (In.merge, In.pluck, In.downcase, In.remove, oe(function (e, t) { var n = Ln && Ln.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }, r = Ln && Ln.__importStar || function (e) { if (e && e.__esModule) return e; var t = {}; if (null != e) for (var n in e) Object.hasOwnProperty.call(e, n) && (t[n] = e[n]); return t.default = e, t }; t.__esModule = !0; var i = n(Rn), o = r(In), a = i.default.parse(window.navigator.userAgent), s = a.platform, u = a.os, c = a.browser; t.default = function () { try { return { os: o.downcase(u.name + (u.versionName ? " " + u.versionName : "")), device: o.downcase(s.type), browser: o.downcase(c.name), browser_version: (c && c.version ? c.version : "unknown").split(".").shift() } } catch (e) { return { os: "", device: "", browser: "", browser_version: "" } } }() })); ie(Cn); var Pn = oe(function (e, t) {
		var n = Ln && Ln.__importStar || function (e) { if (e && e.__esModule) return e; var t = {}; if (null != e) for (var n in e) Object.hasOwnProperty.call(e, n) && (t[n] = e[n]); return t.default = e, t }; t.__esModule = !0; var r = n(In), i = function () {
			function e() { this.pending = [], this.open = [], this.stats = { failures: 0, ttl: 0 } } return e.of = function () { return new e }, e.is_empty = function (e) { return 0 == e.pending.length }, e.is_high_water = function (t) { return t.open.length == e.MAX_OPEN_REQUESTS }, e.maybe_spawn_req = function (t) { if (e.is_empty(t)) return t; if (e.is_high_water(t)) return t; try { var n = e.lpop(t); n && e.request(t, n) } catch (e) { } }, e.increment_failures = function (t) {
				return t.stats.failures++ ,
					t.stats.failures > e.MAX_FAILURE_COUNT && (t.stats.ttl = Date.now() + e.REQUEST_TTL_MS), t
			}, e.handle_error = function (t, n) { e.rm(t, n), e.increment_failures(t) }, e.request = function (t, n) { var r = n[0], i = n[1], o = n[2]; if (!(Date.now() < t.stats.ttl)) { var a = new XMLHttpRequest; t.open.push(a), a.timeout = e.REQUEST_TIMEOUT_MS, a.ontimeout = function () { e.handle_error(t, a) }, a.onerror = function (n) { e.handle_error(t, a) }, a.onreadystatechange = function () { a.readyState == XMLHttpRequest.DONE && e.rm(t, a), Math.floor(a.status / 100) }, a.onload = function () { e.rm(t, a), t.stats.failures && t.stats.failures-- }, a.open(i, r), a.setRequestHeader("Content-Type", "text/plain;charset=UTF-8"); try { a.send(JSON.stringify(o)) } catch (e) { } } }, e.rpush = function (t) { for (var n = [], r = 1; r < arguments.length; r++)n[r - 1] = arguments[r]; return n.forEach(function (n) { t.pending.length >= e.MAX_PENDING || (t.pending.push(n), e.maybe_spawn_req(t)) }), t }, e.lpop = function (e) { return e.pending.shift() }, e.rm = function (e, t) { return r.remove(e.open, t), e }, e.MAX_OPEN_REQUESTS = 3, e.MAX_PENDING = 5, e.REQUEST_TIMEOUT_MS = 4e3, e.REQUEST_TTL_MS = 5e3, e.MAX_FAILURE_COUNT = 3, e
		}(); t.default = i
	}); ie(Pn); var xn = oe(function (e, t) { var n = Ln && Ln.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; t.__esModule = !0; var r = n(Pn); t.default = r.default.of() }); ie(xn); var Fn = oe(function (e, t) { function n(e, n) { return e.url.replace(t.URL_PARAM, function (t) { if ((t = t.slice(1, t.length)) in n) return n[t].toString(); e.log.error(new Error("\n      preparing url[" + e.url + "] failed\n      \n      parameter[" + t + "] not detected in params:\n      \n      " + JSON.stringify(n, null, 2) + "\n    ")) }) } t.__esModule = !0, t.URL_PARAM = /:([a-zA-Z_]+)/g, t.prepare_url = n }); ie(Fn); var Un = (Fn.URL_PARAM, Fn.prepare_url, oe(function (e, t) { t.__esModule = !0; var n = function () { function e(e) { this.emitter = e } return e.prepare = function (e, t) { var n = document.createEvent("Event"); return n.initEvent(name, !1, !0), n.ns = e, n.data = t, n }, e.of = function (t) { return new e(t) }, e.prototype.info = function (t) { this.emitter.dispatchEvent(e.prepare(e.NAMESPACE.INFO, t)) }, e.prototype.error = function (t) { this.emitter.dispatchEvent(e.prepare(e.NAMESPACE.ERROR, t)) }, e.prototype.warn = function (t) { this.emitter.dispatchEvent(e.prepare(e.NAMESPACE.WARN, t)) }, e.NAMESPACE = { INFO: "tracker:info", ERROR: "tracker:err", WARN: "tracker:warn" }, e }(); t.Log = n })); ie(Un); var Dn = (Un.Log, oe(function (e, t) { t.__esModule = !0; !function (e) { e.POST = "POST", e.PUT = "PUT", e.GET = "GET" }(t.Verb || (t.Verb = {})) })); ie(Dn); var Gn = (Dn.Verb, oe(function (e, t) { var n = Ln && Ln.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }, r = Ln && Ln.__importStar || function (e) { if (e && e.__esModule) return e; var t = {}; if (null != e) for (var n in e) Object.hasOwnProperty.call(e, n) && (t[n] = e[n]); return t.default = e, t }; t.__esModule = !0; var i = n(xn), o = n(Pn), a = r(Fn), s = r(In), u = function () { function e(t, n) { void 0 === n && (n = {}); var r = this, u = this; if (this.emitter = t, this.url = n.url, this.log = Un.Log.of(this.emitter), this.verb = n.verb, this.metadata = s.merge({}, n.metadata || {}), this.rq = n.rq || i.default, this.events = n.events || [], this.required_keys = n.required_keys || [], this.optional_keys = n.optional_keys || [], this.listeners = [], this.valid_keys = this.required_keys.slice(0).concat(this.optional_keys), e.assert_emitter_api(this.emitter), void 0 === e.verb[this.verb]) throw new Error("invalid HTTP verb[" + this.verb + "] passed"); if ("string" != typeof this.url) throw new Error("invalid API url[" + this.url + "] passed"); e.TRACKERS.push(this), u.events.forEach(function (t) { e.create_listener(r, t, function (n) { void 0 === n && (n = {}); var i = s.merge(u.metadata, { event_type: t }, n.data || n), c = a.prepare_url(u, i), l = e.pluck_valid_keys(u, i), f = e.ensure_required_keys(u, l); if (f.length) return u.log.error("Tracker.validate_metadata() failed for \n            Event[" + t + "]\n            missing keys: " + f + "\n            payload:\n              " + JSON.stringify(l, null, 2)); o.default.rpush(r.rq, [c, r.verb, l]) }) }) } return e.of = function (t, n) { return new e(t, n) }, e.ensure_required_keys = function (e, t) { return e.required_keys.filter(function (e) { return !(e in t) }) }, e.pluck_valid_keys = function (e, t) { return s.pluck.apply(s, [t].concat(e.valid_keys)) }, e.merge_metadata = function (t, n) { return void 0 === n && (n = {}), t.metadata = e.pluck_valid_keys(t, s.merge(t.metadata, n)), t }, e.assert_emitter_api = function (e) { if ("function" != typeof (e || {}).addEventListener) throw new Error("Tracker() received an emitter that does not implement the addEventListener method"); if ("function" != typeof (e || {}).removeEventListener) throw new Error("Tracker() received an emitter that does not implement the removeEventListener method") }, e.create_listener = function (e, t, n) { e.listeners.push([t, n]), e.emitter.addEventListener(t, n) }, e.prototype.destroy = function () { var t = this; this.listeners.forEach(function (e) { var n = e[0], r = e[1]; return t.emitter.removeEventListener(n, r) }), delete this.rq, delete this.emitter, s.remove(e.TRACKERS, this) }, e.prototype.put = function (t) { return void 0 === t && (t = {}), e.merge_metadata(this, t), this }, e.TRACKERS = [], e.QUEUE = i.default, e.verb = Dn.Verb, e }(); t.default = u })); ie(Gn); var Vn = oe(function (e, t) { var n = Ln && Ln.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }, r = Ln && Ln.__importStar || function (e) { if (e && e.__esModule) return e; var t = {}; if (null != e) for (var n in e) Object.hasOwnProperty.call(e, n) && (t[n] = e[n]); return t.default = e, t }; t.__esModule = !0; var i = n(Cn); t.Device = i.default; var o = n(Gn); t.Tracker = o.default; var a = r(Fn); t.API = a }); ie(Vn); var Yn = Vn.Device, Bn = Vn.Tracker, jn = (Vn.API, Object.freeze({ ADS: 2, ANALYTICS: 4, NO_METERING: 8 })), Hn = {}; for (var Wn in jn) Hn[jn[Wn]] = Wn; ae.of = ae, ae.from_token = function (e) { var t = new te(e, { require_valid_token: !0 }); return ae.of(t.data.acl) }, ae.permissions = jn; var Kn = { PING: "ping", DISPLAY: "display", VIEW: "view" }, qn = { 3: !0, 5: !0, 7: !0, 9: !0 }, zn = function () { return se(Array(16)).reduce(function (e, t, n) { var r = (t + 256).toString(16).substr(1); return e + (qn[n] ? "-" : "") + r }, "") }(), Xn = ["sitegroup_id", "session_id", "media_id", "site_id", "player_id", "video_type"], Qn = ["created", "position"], Zn = ["player_version", "device_info", "created", "source", "category", "category_id", "autoplay", "muted"]; ce.segment_info = function (e) { var t = e / 100; return { segment_duration: t, breakpoints: Array.apply(null, Array(100)).map(function (e, n) { return Math.floor(n * t * 1e3) / 1e3 }) } }, ce.select_watched_segments = function (e, t) { var n = e.last_idx || 1, r = Math.floor(t.currentTime / e.segment_duration); return e.last_idx = r, r < n ? [] : e.breakpoints.slice(n, r).map(function (t) { return e.breakpoints.indexOf(t) }) }; var Jn = 6e4; le.within = function (e, t, n) { var r = e + t.right, i = e - t.left; return n < r && n > i }; var $n = [Kn.DISPLAY, Kn.PING, Kn.VIEW], er = Q(Z(), function (e, t, n) { if (ae.from_token(e.token).is_granted(ae.permissions.ANALYTICS) && !n.analytics) { var r = n.analytics = { ticker: void 0, last_media_id: void 0, ping: function () { r.ticker && r.ticker.run() }, comp: ue(function () { r.ping() }, 6e3), ended: void 0 }, i = { device_info: [Yn.device, Yn.os].join(","), session_id: zn, autoplay: n.autoplay, muted: n.muted, player_id: e.player_id }, a = n.analytics.tracker = Bn.of(n, { verb: Bn.verb.POST, url: "https://ptm.flowplayer.com/:video_type/:sitegroup_id/:event_type", events: $n, required_keys: Xn, optional_keys: [].concat(Zn).concat(Qn), metadata: i, video_type: e.live ? "live" : "vod" }); n.on(pn.REAP, function () { a && a.destroy(), a = 0 }), n.on(pn.CONFIG, function (t) { if (a) { var i = o(t, "data.metadata", {}); if (i.media_id) { var s = o(a, "metadata.media_id"); if (!s || i.media_id != s) { var u = o(e, "analytics", {}); a.put(i), a.put(u), a.put({ video_type: e.live ? "live" : "vod", source: e.source || ve() || "" }), r.ticker = e.live ? le(r, n, a) : ce(r, n, a), r.ended = !1, n.emit(Kn.DISPLAY) } } } }); var s = void 0; n.on(pn.PLAYING, function () { if (a && !s && !fe(a, r)) { a.put({ muted: n.muted }); var e = pe(n); if (e) return s = de(e, function () { r.last_media_id = a.metadata.media_id, n.emit(Kn.VIEW), n.emit(Kn.PING, { position: [0] }), s = void 0 }, function () { s = void 0 }); r.last_media_id = a.metadata.media_id, n.emit(Kn.VIEW), n.emit(Kn.PING, { position: [0] }) } }), n.on(pn.TIME_UPDATE, function () { if (a && !(s || pe(n) || r.ended)) return !e.live && n.currentTime >= Math.floor(n.duration) ? me(r) : void r.comp.run() }), n.on(pn.SEEKED, function () { a && r.ticker && r.ticker.update() }), n.on(pn.ENDED, function () { a && me(r) }) } }); er.Tracker = Bn; var tr = pn.LANDSCAPE = "landscape", nr = pn.PORTRAIT = "portrait"; "undefined" != typeof window && window.matchMedia && [tr, nr].forEach(he); var rr = vn.TOUCHED = "is-touched", ir = vn.HOVERED = "is-hovered", or = vn.IS_TOUCH_DEVICE = "is-touch-device", ar = y.document; Element.prototype.closest || (Element.prototype.matches || (Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector), Element.prototype.closest = function (e) { var t = this, n = this; if (!document.documentElement.contains(t)) return null; do { if (n.matches(e)) return n; n = n.parentElement } while (null !== n); return null }); var sr = new function () { function t() { this.getItem = this.removeItem = this.setItem = e } function n() { try { return window.localStorage || new t } catch (e) { return new t } } function r(e, t) { var r = n(); return function () { try { return r[e].apply(r, arguments) } catch (e) { return t } } } this.removeItem = r("removeItem"), this.getItem = r("getItem", null), this.setItem = r("setItem") }, ur = { coords: "-1 -2 40 30", name: "fp-fullscreen", link: "#fp-fs", translation_key: "core.fullscreen" }, cr = { coords: "-1 -2 40 30", name: "fp-fullscreen-exit", link: "#fp-exit", translation_key: "core.exit_fullscreen" }, lr = { coords: "-2 -2 50 50", name: "fp-play", link: "#fp-play", translation_key: "core.play" }, fr = { coords: lr.coords, name: "fp-pause", link: "#fp-pause", translation_key: "core.pause" }, dr = { coords: lr.coords, name: "fp-play fp-play-stroke", link: "#fp-play-stroke", translation_key: "core.play" }, pr = { coords: lr.coords, name: "fp-pause fp-pause-stroke", link: "#fp-pause-stroke", translation_key: "core.pause" }, vr = { coords: lr.coords, name: "fp-play fp-play-circle", link: "#fp-play-circle", translation_key: "core.play" }, mr = pr, hr = { coords: "-2 -2 36 58", link: "#fp-volume", translation_key: "core.mute" }, gr = { coords: "-2 -2 50 50", link: "#fp-play", translation_key: "core.play", name: "fp-small-play" }, _r = { coords: "-2 -2 50 50", link: "#fp-pause", translation_key: "core.pause", name: "fp-small-pause" }, yr = { coords: "-5 25 460 460", link: "#fp-facebook", name: "fp-facebook" }, Er = { coords: "0 0 512 512", link: "#fp-link", name: "fp-link" }, br = { coords: "0 0 448 512", link: "#fp-share", name: "fp-share" }, wr = { coords: "0 0 512 512", link: "#fp-share", name: "fp-embed" }, Sr = { coords: "0 0 512 512", link: "#fp-twitter", name: "fp-twitter" }, Ar = { coords: "0 0 512 512", link: "#fp-airplay", name: "fp-airplay" }, Nr = { coords: "0 0 41 42", link: "#fp-skip-next", translation_key: "core.skip-next", name: "fp-skip-next" }, kr = { coords: "0 0 41 42", link: "#fp-skip-prev", translation_key: "core.skip-prev", name: "fp-skip-prev" }, Tr = Object.freeze({ ENTER_FULLSCREEN: ur, EXIT_FULLSCREEN: cr, PLAY_1: lr, PAUSE_1: fr, PLAY_2: dr, PAUSE_2: pr, PLAY_3: vr, PAUSE_3: mr, VOLUME: hr, SMALL_PLAY: gr, SMALL_PAUSE: _r, FACEBOOK: yr, LINK: Er, SHARE: br, EMBED: wr, TWITTER: Sr, AIRPLAY: Ar, SKIP_NEXT: Nr, SKIP_PREV: kr }), Or = 1, Mr = 2, Lr = 4, Rr = 8, Ir = 16, Cr = 32, Pr = 64, xr = 128, Fr = 256, Ur = 512, Dr = 1024, Gr = 2048, Vr = 4096, Yr = Object.freeze({ NO_FULLSCREEN: Or, NO_VOLUME_CONTROL: Mr, NO_MUTE: Lr, LOGO_ON_RIGHT: Rr, USE_DRAG_HANDLE: Ir, USE_PLAY_2: Cr, USE_PLAY_3: Pr, USE_THIN_CONTROLBAR: xr, NO_TITLE: Fr, NO_DESCRIPTION: Ur, NO_CONTROLS: Dr, NO_DURATION: Gr, NO_HEADER: Vr }), Br = "function" == typeof Audio && new Audio || {}, jr = "volume", Hr = "mute"; Br.volume = .1, ke.inject_bar = Oe, ke.Tick = Me, Me.on = function (e) { e.addClass("fp-color") }, Me.off = function (e) { e.removeClass("fp-color") }, ke.extend_volume_slider = Le, function () { function e(e) { fn.forEach(function (t) { if (!1 === e) return t.emit(pn.FULLSCREEN_EXIT); t.root !== e && t.in_fullscreen && t.emit(pn.FULLSCREEN_EXIT) }) } function t() { try { if ("boolean" == typeof document.fullscreen) return document.fullscreen; if ("boolean" == typeof document.mozFullScreen) return document.mozFullScreen; if ("boolean" == typeof document.webkitIsFullScreen) return document.webkitIsFullScreen; if ("boolean" == typeof document.msFullscreenElement) return document.msFullscreenElement } catch (e) { return } } var n = y.document; if (n) { n.on("webkitfullscreenchange mozfullscreenchange MSFullscreenChange msfullscreenchange", function () { n.emit(pn.FULLSCREEN_CHANGE, n.fullscreenElement || n.webkitFullscreenElement || n.mozFullScreenElement || n.msFullscreenElement) }); var r = Element.prototype; r.requestFullScreen || ["webkit", "moz", "ms"].forEach(function (e) { var t = r[e + "RequestFullScreen"] || r.msRequestFullscreen, i = n[e + "CancelFullScreen"] || n.msExitFullscreen; t && (r.requestFullScreen = t, n.fullscreenEnabled = !0), i && (n.exitFullScreen = i) }), n.on(pn.FULLSCREEN_CHANGE, function (n) { e(!1 !== t() && (n.data || n.target || !1)) }) } }(); var Wr = [1, 2, 3], Kr = "function" == typeof requestAnimationFrame ? requestAnimationFrame : setTimeout, qr = y.div, zr = y.span, Xr = Object.freeze({ tooltip_offset: Ze, buffer_update: Je, progress: $e, loadedmetadata: et, timeupdate: tt, timeline_repaint: nt, timeline_mouse_move: rt, timeline_grab_start: it, timeline_grab_moved: ot, timeline_grab_end: at, recover: st, timeline_mouse_enter: ut, timeline_mouse_leave: ct, tooltip_update: lt }), Qr = 10, Zr = Object.freeze({ invert_percent: ft, seekable_range: dt, live_waypoint: pt, seconds_in_past: vt, time_watched: mt, seconds_from_head: ht, progress: gt, timeupdate: _t, loadedmetadata: yt, timeline_repaint: Et, tooltip_update: bt, seek_to_now: wt, buffer_update: St, timeline_grab_start: At, recover: Nt, timeline_grab_moved: kt, timeline_grab_end: Tt, timeline_mouse_move: Ot, timeline_mouse_leave: Mt, live_duration: Lt, rebuffer_budget: Rt, live_now: It, live_tail: Ct, live_head: Pt, is_dvr: xt }), Jr = "fp-error", $r = "use-play-", ei = { 0: "is-loading-0", 1: "is-loading-1", 2: "is-loading-2", 3: "is-loading-3" }; Xt.of = Xt; var ti = { audio: { button_txt: "Audio", menu_title: "Audio" }, core: { exit_fullscreen: "Exit fullscreen", fullscreen: "Fullscreen", mute: "Mute", pause: "Pause", play: "Play", unmute: "Unmute", volume: "Volume" }, playlist: { cancel: "Cancel", up_next: "Up next" }, qsel: { menu_title: "Quality" }, share: { clipboard_failure: "Access to clipboard failed", clipboard_success: "The text is now on your clipboard", embed: "Embed", link: "Link", menu_title: "Share" } }, ni = ti, ri = [].concat, ii = Q(window, function () { }); return ii.onapi = function (e, t, n) { n.reaper.put("translator", new Xt(Jt(e, "en"))), n._t = function (e, t) { return n.translator.translate(e, t || "") } }, ii.en = ni, function (e) { if ("undefined" == typeof document || ~Tn.indexOf(document.readyState)) return e(); document.addEventListener("DOMContentLoaded", e) }(function () { Ae("<svg id='fp-icons' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><defs><path id='FS' d='M1 9V1h12'/><path id='fp-play-button' d='M19.201 4.78l18.546 30.001a2.001 2.001 0 0 1-1.707 3.052H-1.046a2 2 0 0 1-1.701-3.052l18.545-30a2 2 0 0 1 3.403 0' transform='rotate(90 20 25.4)'/><g id='fp-pause-lines'><rect class='fp-rect' x='8.5' y='5' width='11' height='36'/><rect class='fp-rect' x='26.5' y='5' width='11' height='36'/></g></defs><g id='fp-play' class='fp-fill'><use xlink:href='#fp-play-button'></use></g><g id='fp-play-circle' class='fp-fill'><circle cx='22.9' cy='22.9' r='23.5' class='fp-thin-stroke' fill='none'/><use xlink:href='#fp-play-button' transform='translate(11.5, 9.8) scale(.57)'></use></g><g id='fp-play-stroke' fill='none' class='fp-thin-stroke'><use xlink:href='#fp-play-button'></use></g><g id='fp-pause' class='fp-fill'><use xlink:href='#fp-pause-lines'></use></g><g id='fp-pause-stroke' fill='none' class='fp-thin-stroke'><use xlink:href='#fp-pause-lines'></use></g><g id='fp-volume' class='fp-fill'><path class='fp-rect' d='M0 15h30v24H0z'/><path d='M1 27L31 0v54z'/></g><g id='fp-fs' fill='none' class='fp-thin-stroke'><use xlink:href='#FS'/><use xlink:href='#FS' transform='matrix(1 0 0 -1 0 26)'/><use xlink:href='#FS' transform='matrix(-1 0 0 1 36 0)'/><use xlink:href='#FS' transform='rotate(180 18 13)'/></g><g id='fp-exit' fill='none' class='fp-thin-stroke'><use xlink:href='#FS' transform='translate(22 17)'/><use xlink:href='#FS' transform='matrix(-1 0 0 1 13 17)'/><use xlink:href='#FS' transform='rotate(180 6.5 4.5)'/><use xlink:href='#FS' transform='matrix(1 0 0 -1 22 9)'/></g><g id='fp-facebook'><path fill='#4469B0' d='M448 56.7v398.5c0 13.7-11.1 24.7-24.7 24.7H309.1V306.5h58.2l8.7-67.6h-67v-43.2c0-19.6 5.4-32.9 33.5-32.9h35.8v-60.5c-6.2-.8-27.4-2.7-52.2-2.7-51.6 0-87 31.5-87 89.4v49.9h-58.4v67.6h58.4V480H24.7C11.1 480 0 468.9 0 455.3V56.7C0 43.1 11.1 32 24.7 32h398.5c13.7 0 24.8 11.1 24.8 24.7z'/></g><g id='fp-link'><path fill='currentColor' d='M301.148 394.702l-79.2 79.19c-50.778 50.799-133.037 50.824-183.84 0-50.799-50.778-50.824-133.037 0-183.84l79.19-79.2a132.833 132.833 0 0 1 3.532-3.403c7.55-7.005 19.795-2.004 20.208 8.286.193 4.807.598 9.607 1.216 14.384.481 3.717-.746 7.447-3.397 10.096-16.48 16.469-75.142 75.128-75.3 75.286-36.738 36.759-36.731 96.188 0 132.94 36.759 36.738 96.188 36.731 132.94 0l79.2-79.2.36-.36c36.301-36.672 36.14-96.07-.37-132.58-8.214-8.214-17.577-14.58-27.585-19.109-4.566-2.066-7.426-6.667-7.134-11.67a62.197 62.197 0 0 1 2.826-15.259c2.103-6.601 9.531-9.961 15.919-7.28 15.073 6.324 29.187 15.62 41.435 27.868 50.688 50.689 50.679 133.17 0 183.851zm-90.296-93.554c12.248 12.248 26.362 21.544 41.435 27.868 6.388 2.68 13.816-.68 15.919-7.28a62.197 62.197 0 0 0 2.826-15.259c.292-5.003-2.569-9.604-7.134-11.67-10.008-4.528-19.371-10.894-27.585-19.109-36.51-36.51-36.671-95.908-.37-132.58l.36-.36 79.2-79.2c36.752-36.731 96.181-36.738 132.94 0 36.731 36.752 36.738 96.181 0 132.94-.157.157-58.819 58.817-75.3 75.286-2.651 2.65-3.878 6.379-3.397 10.096a163.156 163.156 0 0 1 1.216 14.384c.413 10.291 12.659 15.291 20.208 8.286a131.324 131.324 0 0 0 3.532-3.403l79.19-79.2c50.824-50.803 50.799-133.062 0-183.84-50.802-50.824-133.062-50.799-183.84 0l-79.2 79.19c-50.679 50.682-50.688 133.163 0 183.851z'/></g><g id='fp-share' class='fp-fill'><path d='M448 416c0 53.019-42.981 96-96 96s-96-42.981-96-96c0-12.965 2.576-25.327 7.235-36.61l-95.45-59.657C150.199 339.525 124.558 352 96 352c-53.019 0-96-42.981-96-96s42.981-96 96-96c28.558 0 54.199 12.475 71.784 32.267l95.45-59.657C258.576 121.327 256 108.965 256 96c0-53.019 42.981-96 96-96s96 42.981 96 96-42.981 96-96 96c-28.558 0-54.199-12.475-71.784-32.267l-95.451 59.656c9.661 23.396 9.641 49.87 0 73.22l95.451 59.656C297.801 332.475 323.442 320 352 320c53.019 0 96 42.981 96 96zM352 32c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64M96 192c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64m256 160c-35.29 0-64 28.71-64 64s28.71 64 64 64 64-28.71 64-64-28.71-64-64-64'/></g><g id='fp-twitter'><path fill='#29A3EF' d='M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z'/></g><g id='fp-airplay'><path d='M116.364 477.091h279.272L256 337.455z'/><path d='M465.455 34.909H46.545C20.945 34.909 0 55.855 0 81.455v279.273c0 25.6 20.945 46.545 46.545 46.545h93.091v-46.545H46.545V81.455h418.909v279.273h-93.091v46.545h93.091c25.6 0 46.545-20.945 46.545-46.545V81.455c.001-25.6-20.944-46.546-46.544-46.546z'/></g><g id='fp-skip-next' fill='#fff' fill-rule='evenodd'><path d='M33.23 22.696L3.56 41.223A2 2 0 0 1 .5 39.527V2.473A2 2 0 0 1 3.56.776l29.67 18.527a2 2 0 0 1 0 3.393z'/><rect x='33' y='.5' width='7' height='41' rx='2'/></g><g id='fp-skip-prev'><use xlink:href='#fp-skip-next' transform='rotate(180 21 21)'></use></g></svg> ") }), ne(ii, er, Ht, Kt, ye, qt), ne.volume = ke, ne.storage = sr, ne.i18n = ii, ne.ui = Yr, ne
});
